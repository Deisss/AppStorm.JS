(function(){var c=this,b=c._,d={},f=Array.prototype,g=Object.prototype,n=f.push,m=f.slice,s=f.concat,p=g.toString,l=g.hasOwnProperty,y=f.forEach,w=f.map,r=f.reduce,x=f.reduceRight,e=f.filter,q=f.every,k=f.some,t=f.indexOf,B=f.lastIndexOf,g=Array.isArray,v=Object.keys,u=Function.prototype.bind,h=function(b){return b instanceof h?b:this instanceof h?(this._wrapped=b,void 0):new h(b)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):c._=
h;h.VERSION="1.5.2";var A=h.each=h.forEach=function(b,e,c){if(null!=b)if(y&&b.forEach===y)b.forEach(e,c);else if(b.length===+b.length)for(var k=0,l=b.length;l>k&&e.call(c,b[k],k,b)!==d;k++);else for(var q=h.keys(b),k=0,l=q.length;l>k&&e.call(c,b[q[k]],q[k],b)!==d;k++);};h.map=h.collect=function(b,e,c){var k=[];return null==b?k:w&&b.map===w?b.map(e,c):(A(b,function(b,F,h){k.push(e.call(c,b,F,h))}),k)};h.reduce=h.foldl=h.inject=function(b,e,c,k){var d=2<arguments.length;if(null==b&&(b=[]),r&&b.reduce===
r)return k&&(e=h.bind(e,k)),d?b.reduce(e,c):b.reduce(e);if(A(b,function(b,F,h){d?c=e.call(k,c,b,F,h):(c=b,d=!0)}),!d)throw new TypeError("Reduce of empty array with no initial value");return c};h.reduceRight=h.foldr=function(b,e,c,k){var d=2<arguments.length;if(null==b&&(b=[]),x&&b.reduceRight===x)return k&&(e=h.bind(e,k)),d?b.reduceRight(e,c):b.reduceRight(e);var l=b.length;if(l!==+l)var q=h.keys(b),l=q.length;if(A(b,function(h,t,f){t=q?q[--l]:--l;d?c=e.call(k,c,b[t],t,f):(c=b[t],d=!0)}),!d)throw new TypeError("Reduce of empty array with no initial value");
return c};h.find=h.detect=function(b,e,c){var k;return D(b,function(b,F,h){return e.call(c,b,F,h)?(k=b,!0):void 0}),k};h.filter=h.select=function(b,c,k){var h=[];return null==b?h:e&&b.filter===e?b.filter(c,k):(A(b,function(b,e,F){c.call(k,b,e,F)&&h.push(b)}),h)};h.reject=function(b,e,c){return h.filter(b,function(b,k,F){return!e.call(c,b,k,F)},c)};h.every=h.all=function(b,e,c){e||(e=h.identity);var k=!0;return null==b?k:q&&b.every===q?b.every(e,c):(A(b,function(b,F,h){return(k=k&&e.call(c,b,F,h))?
void 0:d}),!!k)};var D=h.some=h.any=function(b,e,c){e||(e=h.identity);var l=!1;return null==b?l:k&&b.some===k?b.some(e,c):(A(b,function(b,k,h){return l||(l=e.call(c,b,k,h))?d:void 0}),!!l)};h.contains=h.include=function(b,e){return null==b?!1:t&&b.indexOf===t?-1!=b.indexOf(e):D(b,function(b){return b===e})};h.invoke=function(b,e){var c=m.call(arguments,2),k=h.isFunction(e);return h.map(b,function(b){return(k?e:b[e]).apply(b,c)})};h.pluck=function(b,e){return h.map(b,function(b){return b[e]})};h.where=
function(b,e,c){return h.isEmpty(e)?c?void 0:[]:h[c?"find":"filter"](b,function(b){for(var c in e)if(e[c]!==b[c])return!1;return!0})};h.findWhere=function(b,e){return h.where(b,e,!0)};h.max=function(b,e,c){if(!e&&h.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!e&&h.isEmpty(b))return-1/0;var k={computed:-1/0,value:-1/0};return A(b,function(b,h,d){h=e?e.call(c,b,h,d):b;h>k.computed&&(k={value:b,computed:h})}),k.value};h.min=function(b,e,c){if(!e&&h.isArray(b)&&b[0]===+b[0]&&
65535>b.length)return Math.min.apply(Math,b);if(!e&&h.isEmpty(b))return 1/0;var k={computed:1/0,value:1/0};return A(b,function(b,h,d){h=e?e.call(c,b,h,d):b;h<k.computed&&(k={value:b,computed:h})}),k.value};h.shuffle=function(b){var e,c=0,k=[];return A(b,function(b){e=h.random(c++);k[c-1]=k[e];k[e]=b}),k};h.sample=function(b,e,c){return 2>arguments.length||c?b[h.random(b.length-1)]:h.shuffle(b).slice(0,Math.max(0,e))};var C=function(b){return h.isFunction(b)?b:function(e){return e[b]}};h.sortBy=function(b,
e,c){var k=C(e);return h.pluck(h.map(b,function(b,e,h){return{value:b,index:e,criteria:k.call(c,b,e,h)}}).sort(function(b,e){var c=b.criteria,k=e.criteria;if(c!==k){if(c>k||void 0===c)return 1;if(k>c||void 0===k)return-1}return b.index-e.index}),"value")};var z=function(b){return function(e,c,k){var d={},l=null==c?h.identity:C(c);return A(e,function(c,h){var q=l.call(k,c,h,e);b(d,q,c)}),d}};h.groupBy=z(function(b,e,c){(h.has(b,e)?b[e]:b[e]=[]).push(c)});h.indexBy=z(function(b,e,c){b[e]=c});h.countBy=
z(function(b,e){h.has(b,e)?b[e]++:b[e]=1});h.sortedIndex=function(b,e,c,k){c=null==c?h.identity:C(c);e=c.call(k,e);for(var d=0,l=b.length;l>d;){var q=d+l>>>1;c.call(k,b[q])<e?d=q+1:l=q}return d};h.toArray=function(b){return b?h.isArray(b)?m.call(b):b.length===+b.length?h.map(b,h.identity):h.values(b):[]};h.size=function(b){return null==b?0:b.length===+b.length?b.length:h.keys(b).length};h.first=h.head=h.take=function(b,e,c){return null==b?void 0:null==e||c?b[0]:m.call(b,0,e)};h.initial=function(b,
e,c){return m.call(b,0,b.length-(null==e||c?1:e))};h.last=function(b,e,c){return null==b?void 0:null==e||c?b[b.length-1]:m.call(b,Math.max(b.length-e,0))};h.rest=h.tail=h.drop=function(b,e,c){return m.call(b,null==e||c?1:e)};h.compact=function(b){return h.filter(b,h.identity)};var E=function(b,e,c){return e&&h.every(b,h.isArray)?s.apply(c,b):(A(b,function(b){h.isArray(b)||h.isArguments(b)?e?n.apply(c,b):E(b,e,c):c.push(b)}),c)};h.flatten=function(b,e){return E(b,e,[])};h.without=function(b){return h.difference(b,
m.call(arguments,1))};h.uniq=h.unique=function(b,e,c,k){h.isFunction(e)&&(k=c,c=e,e=!1);c=c?h.map(b,c,k):b;var d=[],l=[];return A(c,function(c,k){(e?k&&l[l.length-1]===c:h.contains(l,c))||(l.push(c),d.push(b[k]))}),d};h.union=function(){return h.uniq(h.flatten(arguments,!0))};h.intersection=function(b){var e=m.call(arguments,1);return h.filter(h.uniq(b),function(b){return h.every(e,function(e){return 0<=h.indexOf(e,b)})})};h.difference=function(b){var e=s.apply(f,m.call(arguments,1));return h.filter(b,
function(b){return!h.contains(e,b)})};h.zip=function(){for(var b=h.max(h.pluck(arguments,"length").concat(0)),e=Array(b),c=0;b>c;c++)e[c]=h.pluck(arguments,""+c);return e};h.object=function(b,e){if(null==b)return{};for(var c={},k=0,h=b.length;h>k;k++)e?c[b[k]]=e[k]:c[b[k][0]]=b[k][1];return c};h.indexOf=function(b,e,c){if(null==b)return-1;var k=0,d=b.length;if(c){if("number"!=typeof c)return k=h.sortedIndex(b,e),b[k]===e?k:-1;k=0>c?Math.max(0,d+c):c}if(t&&b.indexOf===t)return b.indexOf(e,c);for(;d>
k;k++)if(b[k]===e)return k;return-1};h.lastIndexOf=function(b,e,c){if(null==b)return-1;var k=null!=c;if(B&&b.lastIndexOf===B)return k?b.lastIndexOf(e,c):b.lastIndexOf(e);for(c=k?c:b.length;c--;)if(b[c]===e)return c;return-1};h.range=function(b,e,c){1>=arguments.length&&(e=b||0,b=0);c=arguments[2]||1;for(var k=Math.max(Math.ceil((e-b)/c),0),h=0,d=Array(k);k>h;)d[h++]=b,b+=c;return d};var J=function(){};h.bind=function(b,e){var c,k;if(u&&b.bind===u)return u.apply(b,m.call(arguments,1));if(!h.isFunction(b))throw new TypeError;
return c=m.call(arguments,2),k=function(){if(!(this instanceof k))return b.apply(e,c.concat(m.call(arguments)));J.prototype=b.prototype;var h=new J;J.prototype=null;var d=b.apply(h,c.concat(m.call(arguments)));return Object(d)===d?d:h}};h.partial=function(b){var e=m.call(arguments,1);return function(){return b.apply(this,e.concat(m.call(arguments)))}};h.bindAll=function(b){var e=m.call(arguments,1);if(0===e.length)throw Error("bindAll must be passed function names");return A(e,function(e){b[e]=h.bind(b[e],
b)}),b};h.memoize=function(b,e){var c={};return e||(e=h.identity),function(){var k=e.apply(this,arguments);return h.has(c,k)?c[k]:c[k]=b.apply(this,arguments)}};h.delay=function(b,e){var c=m.call(arguments,2);return setTimeout(function(){return b.apply(null,c)},e)};h.defer=function(b){return h.delay.apply(h,[b,1].concat(m.call(arguments,1)))};h.throttle=function(b,e,c){var k,h,d,l=null,q=0;c||(c={});var t=function(){q=!1===c.leading?0:new Date;l=null;d=b.apply(k,h)};return function(){var f=new Date;
q||!1!==c.leading||(q=f);var r=e-(f-q);return k=this,h=arguments,0>=r?(clearTimeout(l),l=null,q=f,d=b.apply(k,h)):l||!1===c.trailing||(l=setTimeout(t,r)),d}};h.debounce=function(b,e,c){var k,h,d,l,q;return function(){d=this;h=arguments;l=new Date;var t=function(){var f=new Date-l;e>f?k=setTimeout(t,e-f):(k=null,c||(q=b.apply(d,h)))},f=c&&!k;return k||(k=setTimeout(t,e)),f&&(q=b.apply(d,h)),q}};h.once=function(b){var e,c=!1;return function(){return c?e:(c=!0,e=b.apply(this,arguments),b=null,e)}};h.wrap=
function(b,e){return function(){var c=[b];return n.apply(c,arguments),e.apply(this,c)}};h.compose=function(){var b=arguments;return function(){for(var e=arguments,c=b.length-1;0<=c;c--)e=[b[c].apply(this,e)];return e[0]}};h.after=function(b,e){return function(){return 1>--b?e.apply(this,arguments):void 0}};h.keys=v||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var e=[],c;for(c in b)h.has(b,c)&&e.push(c);return e};h.values=function(b){for(var e=h.keys(b),c=e.length,k=Array(c),
d=0;c>d;d++)k[d]=b[e[d]];return k};h.pairs=function(b){for(var e=h.keys(b),c=e.length,k=Array(c),d=0;c>d;d++)k[d]=[e[d],b[e[d]]];return k};h.invert=function(b){for(var e={},c=h.keys(b),k=0,d=c.length;d>k;k++)e[b[c[k]]]=c[k];return e};h.functions=h.methods=function(b){var e=[],c;for(c in b)h.isFunction(b[c])&&e.push(c);return e.sort()};h.extend=function(b){return A(m.call(arguments,1),function(e){if(e)for(var c in e)b[c]=e[c]}),b};h.pick=function(b){var e={},c=s.apply(f,m.call(arguments,1));return A(c,
function(c){c in b&&(e[c]=b[c])}),e};h.omit=function(b){var e={},c=s.apply(f,m.call(arguments,1)),k;for(k in b)h.contains(c,k)||(e[k]=b[k]);return e};h.defaults=function(b){return A(m.call(arguments,1),function(e){if(e)for(var c in e)void 0===b[c]&&(b[c]=e[c])}),b};h.clone=function(b){return h.isObject(b)?h.isArray(b)?b.slice():h.extend({},b):b};h.tap=function(b,e){return e(b),b};var K=function(b,e,c,k){if(b===e)return 0!==b||1/b==1/e;if(null==b||null==e)return b===e;b instanceof h&&(b=b._wrapped);
e instanceof h&&(e=e._wrapped);var d=p.call(b);if(d!=p.call(e))return!1;switch(d){case "[object String]":return b==String(e);case "[object Number]":return b!=+b?e!=+e:0==b?1/b==1/e:b==+e;case "[object Date]":case "[object Boolean]":return+b==+e;case "[object RegExp]":return b.source==e.source&&b.global==e.global&&b.multiline==e.multiline&&b.ignoreCase==e.ignoreCase}if("object"!=typeof b||"object"!=typeof e)return!1;for(var l=c.length;l--;)if(c[l]==b)return k[l]==e;var l=b.constructor,q=e.constructor;
if(l!==q&&!(h.isFunction(l)&&l instanceof l&&h.isFunction(q)&&q instanceof q))return!1;c.push(b);k.push(e);l=0;q=!0;if("[object Array]"==d){if(l=b.length,q=l==e.length)for(;l--&&(q=K(b[l],e[l],c,k)););}else{for(var t in b)if(h.has(b,t)&&(l++,!(q=h.has(e,t)&&K(b[t],e[t],c,k))))break;if(q){for(t in e)if(h.has(e,t)&&!l--)break;q=!l}}return c.pop(),k.pop(),q};h.isEqual=function(b,e){return K(b,e,[],[])};h.isEmpty=function(b){if(null==b)return!0;if(h.isArray(b)||h.isString(b))return 0===b.length;for(var e in b)if(h.has(b,
e))return!1;return!0};h.isElement=function(b){return!(!b||1!==b.nodeType)};h.isArray=g||function(b){return"[object Array]"==p.call(b)};h.isObject=function(b){return b===Object(b)};A("Arguments Function String Number Date RegExp".split(" "),function(b){h["is"+b]=function(e){return p.call(e)=="[object "+b+"]"}});h.isArguments(arguments)||(h.isArguments=function(b){return!(!b||!h.has(b,"callee"))});"function"!=typeof/./&&(h.isFunction=function(b){return"function"==typeof b});h.isFinite=function(b){return isFinite(b)&&
!isNaN(parseFloat(b))};h.isNaN=function(b){return h.isNumber(b)&&b!=+b};h.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==p.call(b)};h.isNull=function(b){return null===b};h.isUndefined=function(b){return void 0===b};h.has=function(b,e){return l.call(b,e)};h.noConflict=function(){return c._=b,this};h.identity=function(b){return b};h.times=function(b,e,c){for(var k=Array(Math.max(0,b)),d=0;b>d;d++)k[d]=e.call(c,d);return k};h.random=function(b,e){return null==e&&(e=b,b=0),b+Math.floor(Math.random()*
(e-b+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=h.invert(I.escape);var M={escape:RegExp("["+h.keys(I.escape).join("")+"]","g"),unescape:RegExp("("+h.keys(I.unescape).join("|")+")","g")};h.each(["escape","unescape"],function(b){h[b]=function(e){return null==e?"":(""+e).replace(M[b],function(e){return I[b][e]})}});h.result=function(b,e){if(null!=b){var c=b[e];return h.isFunction(c)?c.call(b):c}};h.mixin=function(b){A(h.functions(b),function(e){var c=
h[e]=b[e];h.prototype[e]=function(){var b=[this._wrapped];n.apply(b,arguments);b=c.apply(h,b);return this._chain?h(b).chain():b}})};var G=0;h.uniqueId=function(b){var e=++G+"";return b?b+e:e};h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;h.template=function(b,e,c){var k;c=h.defaults({},c,h.templateSettings);var d=
RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),l=0,q="__p+='";b.replace(d,function(e,c,k,d,h){return q+=b.slice(l,h).replace(O,function(b){return"\\"+N[b]}),c&&(q+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),k&&(q+="'+\n((__t=("+k+"))==null?'':__t)+\n'"),d&&(q+="';\n"+d+"\n__p+='"),l=h+e.length,e});q+="';\n";c.variable||(q="with(obj||{}){\n"+q+"}\n");q="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
q+"return __p;\n";try{k=new Function(c.variable||"obj","_",q)}catch(t){throw t.source=q,t;}if(e)return k(e,h);e=function(b){return k.call(this,b,h)};return e.source="function("+(c.variable||"obj")+"){\n"+q+"}",e};h.chain=function(b){return h(b).chain()};h.mixin(h);A("pop push reverse shift sort splice unshift".split(" "),function(b){var e=f[b];h.prototype[b]=function(){var c=this._wrapped;return e.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],this._chain?h(c).chain():c}});
A(["concat","join","slice"],function(b){var e=f[b];h.prototype[b]=function(){var b=e.apply(this._wrapped,arguments);return this._chain?h(b).chain():b}});h.extend(h.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);var Handlebars=function(){var c=function(){function b(c){this.string=c}b.prototype.toString=function(){return""+this.string};return b}(),b=function(b){function c(b){return f[b]||"&amp;"}var d={},f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,g=/[&<>"'`]/;d.extend=function(b,c){for(var k in c)c.hasOwnProperty(k)&&(b[k]=c[k])};var w=Object.prototype.toString;d.toString=w;var r=function(b){return"function"===typeof b};r(/x/)&&(r=function(b){return"function"===
typeof b&&"[object Function]"===w.call(b)});d.isFunction=r;var x=Array.isArray||function(b){return b&&"object"===typeof b?"[object Array]"===w.call(b):!1};d.isArray=x;d.escapeExpression=function(e){if(e instanceof b)return e.toString();if(!e&&0!==e)return"";e=""+e;return g.test(e)?e.replace(l,c):e};d.isEmpty=function(b){return b||0===b?x(b)&&0===b.length?!0:!1:!0};return d}(c),d=function(){function b(){for(var d=Error.prototype.constructor.apply(this,arguments),f=0;f<c.length;f++)this[c[f]]=d[c[f]]}
var c="description fileName lineNumber message name number stack".split(" ");b.prototype=Error();return b}(),f=function(b,c){function d(b,e){this.helpers=b||{};this.partials=e||{};f(this)}function f(b){b.registerHelper("helperMissing",function(b){if(2!==arguments.length)throw Error("Missing helper: '"+b+"'");});b.registerHelper("blockHelperMissing",function(e,c){var k=c.inverse||function(){},d=c.fn;x(e)&&(e=e.call(this));return!0===e?d(this):!1===e||null==e?k(this):r(e)?0<e.length?b.helpers.each(e,
c):k(this):d(e)});b.registerHelper("each",function(b,e){var c=e.fn,d=e.inverse,l=0,q="",f;x(b)&&(b=b.call(this));e.data&&(f=k(e.data));if(b&&"object"===typeof b)if(r(b))for(var t=b.length;l<t;l++)f&&(f.index=l,f.first=0===l,f.last=l===b.length-1),q+=c(b[l],{data:f});else for(t in b)b.hasOwnProperty(t)&&(f&&(f.key=t),q+=c(b[t],{data:f}),l++);0===l&&(q=d(this));return q});b.registerHelper("if",function(b,e){x(b)&&(b=b.call(this));return!e.hash.includeZero&&!b||w.isEmpty(b)?e.inverse(this):e.fn(this)});
b.registerHelper("unless",function(e,c){return b.helpers["if"].call(this,e,{fn:c.inverse,inverse:c.fn,hash:c.hash})});b.registerHelper("with",function(b,e){x(b)&&(b=b.call(this));if(!w.isEmpty(b))return e.fn(b)});b.registerHelper("log",function(e,c){var k=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;b.log(k,e)})}function l(b,e){q.log(b,e)}var g={},w=b;g.VERSION="1.1.2";g.COMPILER_REVISION=4;g.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var r=w.isArray,
x=w.isFunction,e=w.toString;g.HandlebarsEnvironment=d;d.prototype={constructor:d,logger:q,log:l,registerHelper:function(b,k,d){if("[object Object]"===e.call(b)){if(d||k)throw new c("Arg not supported with multiple helpers");w.extend(this.helpers,b)}else d&&(k.not=d),this.helpers[b]=k},registerPartial:function(b,c){"[object Object]"===e.call(b)?w.extend(this.partials,b):this.partials[b]=c}};var q={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(b,
e){if(q.level<=b){var c=q.methodMap[b];"undefined"!==typeof console&&console[c]&&console[c].call(console,e)}}};g.logger=q;g.log=l;var k=function(b){var e={};w.extend(e,b);return e};g.createFrame=k;return g}(b,d),g=function(b,c,d){function f(b,e,c){var d=Array.prototype.slice.call(arguments,3),l=function(b,k){k=k||{};return e.apply(this,[b,k.data||c].concat(d))};l.program=b;l.depth=d.length;return l}function l(b,e,c){var d=function(b,k){k=k||{};return e(b,k.data||c)};d.program=b;d.depth=0;return d}
function g(b,e,c,d,l,h){d={partial:!0,helpers:d,partials:l,data:h};if(void 0===b)throw new x("The partial "+e+" could not be found");if(b instanceof Function)return b(c,d)}function w(){return""}var r={},x=c,e=d.COMPILER_REVISION,q=d.REVISION_CHANGES;r.template=function(c,d){if(!d)throw Error("No environment passed to template");var r={escapeExpression:b.escapeExpression,invokePartial:d.compile?function(b,e,c,k,l,q){var f=g.apply(this,arguments);if(f)return f;f={helpers:k,partials:l,data:q};l[e]=d.compile(b,
{data:void 0!==q},d);return l[e](c,f)}:function(b,e){var c=g.apply(this,arguments);if(c)return c;throw new x("The partial "+e+" could not be compiled when running in runtime-only mode");},programs:[],program:function(b,e,c){var k=this.programs[b];c?k=l(b,e,c):k||(k=this.programs[b]=l(b,e));return k},merge:function(e,c){var k=e||c;e&&c&&e!==c&&(k={},b.extend(k,c),b.extend(k,e));return k},programWithDepth:f,noop:w,compilerInfo:null};return function(b,l){l=l||{};var h=l.partial?l:d,f,p;l.partial||(f=
l.helpers,p=l.partials);h=c.call(r,h,b,f,p,l.data);if(!l.partial&&(p=(f=r.compilerInfo)&&f[0]||1,p!==e)){if(p<e)throw Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+q[e]+") or downgrade your runtime to an older version ("+q[p]+").");throw Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+f[1]+").");}return h}};
r.programWithDepth=f;r.program=l;r.invokePartial=g;r.noop=w;return r}(b,d,f),c=function(b,c,d,f,l){var g=function(){var r=new b.HandlebarsEnvironment;f.extend(r,b);r.SafeString=c;r.Exception=d;r.Utils=f;r.VM=l;r.template=function(b){return l.template(b,r)};return r},w=g();w.create=g;return w}(f,c,d,b,g),b=function(b){function c(b,d,f){this.type="program";this.statements=b;this.strip={};f?(this.inverse=new c(f,d),this.strip.right=d.left):d&&(this.strip.left=d.right)}var d={};d.ProgramNode=c;d.MustacheNode=
function(b,c,d,f){this.type="mustache";this.hash=c;this.strip=f;d=d[3]||d[2];this.escaped="{"!==d&&"&"!==d;d=this.id=b[0];b=this.params=b.slice(1);this.isHelper=(this.eligibleHelper=d.isSimple)&&(b.length||c)};d.PartialNode=function(b,c,d){this.type="partial";this.partialName=b;this.context=c;this.strip=d};d.BlockNode=function(c,d,f,g){if(c.id.original!==g.path.original)throw new b(c.id.original+" doesn't match "+g.path.original);this.type="block";this.mustache=c;this.program=d;this.inverse=f;this.strip=
{left:c.strip.left,right:g.strip.right};(d||f).strip.left=c.strip.right;(f||d).strip.right=g.strip.left;f&&!d&&(this.isInverse=!0)};d.ContentNode=function(b){this.type="content";this.string=b};d.HashNode=function(b){this.type="hash";this.pairs=b};d.IdNode=function(c){this.type="ID";for(var d="",f=[],g=0,r=0,m=c.length;r<m;r++){var e=c[r].part,d=d+((c[r].separator||"")+e);if(".."===e||"."===e||"this"===e){if(0<f.length)throw new b("Invalid path: "+d);".."===e?g++:this.isScoped=!0}else f.push(e)}this.original=
d;this.parts=f;this.string=f.join(".");this.depth=g;this.isSimple=1===c.length&&!this.isScoped&&0===g;this.stringModeValue=this.string};d.PartialNameNode=function(b){this.type="PARTIAL_NAME";this.name=b.original};d.DataNode=function(b){this.type="DATA";this.id=b};d.StringNode=function(b){this.type="STRING";this.original=this.string=this.stringModeValue=b};d.IntegerNode=function(b){this.type="INTEGER";this.original=this.integer=b;this.stringModeValue=Number(b)};d.BooleanNode=function(b){this.type=
"BOOLEAN";this.bool=b;this.stringModeValue="true"===b};d.CommentNode=function(b){this.type="comment";this.comment=b};return d}(d),g=function(b,c){var d={};d.parser=b;d.parse=function(d){if(d.constructor===c.ProgramNode)return d;b.yy=c;return b.parse(d)};return d}(function(){return function(){function b(c,d){return{left:"~"===c[2],right:"~"===d[0]||"~"===d[1]}}function c(){this.yy={}}var d={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,
closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",
15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],
[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(c,d,f,r,g,e,q){c=e.length-1;switch(g){case 1:return new r.ProgramNode(e[c-1]);case 2:return new r.ProgramNode([]);case 3:this.$=new r.ProgramNode([],e[c-1],e[c]);break;case 4:this.$=new r.ProgramNode(e[c-2],e[c-1],e[c]);break;case 5:this.$=new r.ProgramNode(e[c-1],e[c],[]);break;case 6:this.$=new r.ProgramNode(e[c]);break;case 7:this.$=new r.ProgramNode([]);break;case 8:this.$=new r.ProgramNode([]);break;case 9:this.$=[e[c]];
break;case 10:e[c-1].push(e[c]);this.$=e[c-1];break;case 11:this.$=new r.BlockNode(e[c-2],e[c-1].inverse,e[c-1],e[c]);break;case 12:this.$=new r.BlockNode(e[c-2],e[c-1],e[c-1].inverse,e[c]);break;case 13:this.$=e[c];break;case 14:this.$=e[c];break;case 15:this.$=new r.ContentNode(e[c]);break;case 16:this.$=new r.CommentNode(e[c]);break;case 17:this.$=new r.MustacheNode(e[c-1][0],e[c-1][1],e[c-2],b(e[c-2],e[c]));break;case 18:this.$=new r.MustacheNode(e[c-1][0],e[c-1][1],e[c-2],b(e[c-2],e[c]));break;
case 19:this.$={path:e[c-1],strip:b(e[c-2],e[c])};break;case 20:this.$=new r.MustacheNode(e[c-1][0],e[c-1][1],e[c-2],b(e[c-2],e[c]));break;case 21:this.$=new r.MustacheNode(e[c-1][0],e[c-1][1],e[c-2],b(e[c-2],e[c]));break;case 22:this.$=new r.PartialNode(e[c-2],e[c-1],b(e[c-3],e[c]));break;case 23:this.$=b(e[c-1],e[c]);break;case 24:this.$=[[e[c-2]].concat(e[c-1]),e[c]];break;case 25:this.$=[[e[c]],null];break;case 26:this.$=e[c];break;case 27:this.$=new r.StringNode(e[c]);break;case 28:this.$=new r.IntegerNode(e[c]);
break;case 29:this.$=new r.BooleanNode(e[c]);break;case 30:this.$=e[c];break;case 31:this.$=new r.HashNode(e[c]);break;case 32:this.$=[e[c-2],e[c]];break;case 33:this.$=new r.PartialNameNode(e[c]);break;case 34:this.$=new r.PartialNameNode(new r.StringNode(e[c]));break;case 35:this.$=new r.PartialNameNode(new r.IntegerNode(e[c]));break;case 36:this.$=new r.DataNode(e[c]);break;case 37:this.$=new r.IdNode(e[c]);break;case 38:e[c-2].push({part:e[c],separator:e[c-1]});this.$=e[c-2];break;case 39:this.$=
[{part:e[c]}];break;case 42:this.$=[];break;case 43:e[c-1].push(e[c]);break;case 46:this.$=[e[c]];break;case 47:e[c-1].push(e[c])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],
15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],
19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],
25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,
46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],
20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,
20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},
{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],
38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(b,c){throw Error(b);},parse:function(b){var c=[0],d=[null],f=[],g=this.table,
e="",q=0,k=0,t=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;f.push(b);var p=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,m,h,n,s={},C,z;;){h=c[c.length-1];if(this.defaultActions[h])n=this.defaultActions[h];else{if(null===v||"undefined"==typeof v)v=this.lexer.lex()||1,"number"!==typeof v&&
(v=this.symbols_[v]||v);n=g[h]&&g[h][v]}if("undefined"===typeof n||!n.length||!n[0]){var E="";if(!t){z=[];for(C in g[h])this.terminals_[C]&&2<C&&z.push("'"+this.terminals_[C]+"'");E=this.lexer.showPosition?"Parse error on line "+(q+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+z.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(q+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[v]||v,
line:this.lexer.yylineno,loc:b,expected:z})}}if(n[0]instanceof Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+h+", token: "+v);switch(n[0]){case 1:c.push(v);d.push(this.lexer.yytext);f.push(this.lexer.yylloc);c.push(n[1]);v=null;m?(v=m,m=null):(k=this.lexer.yyleng,e=this.lexer.yytext,q=this.lexer.yylineno,b=this.lexer.yylloc,0<t&&t--);break;case 2:z=this.productions_[n[1]][1];s.$=d[d.length-z];s._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,
first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column};p&&(s._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]);h=this.performAction.call(s,e,k,q,this.yy,n[1],d,f);if("undefined"!==typeof h)return h;z&&(c=c.slice(0,-2*z),d=d.slice(0,-1*z),f=f.slice(0,-1*z));c.push(this.productions_[n[1]][0]);d.push(s.$);f.push(s._$);n=g[c[c.length-2]][c[c.length-1]];c.push(n);break;case 3:return!0}}return!0}},f=function(){return{EOF:1,parseError:function(b,c){if(this.yy.parser)this.yy.parser.parseError(b,
c);else throw Error(b);},setInput:function(b){this._input=b;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):
this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var c=b.length,d=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c-1);this.offset-=c;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,
last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===b.length?this.yylloc.first_column:0)+b[b.length-d.length].length-d[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-c]);return this},more:function(){this._more=!0;return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,
"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),c=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,c,d;this._more||(this.match=this.yytext="");for(var f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>
b[0].length)||(b=c,d=g,this.options.flex));g++);if(b){if(c=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=
!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!==typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},
popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(b){this.begin(b)},options:{},performAction:function(b,c,d,f){function g(b,d){return c.yytext=c.yytext.substr(b,c.yyleng-d)}switch(d){case 0:"\\\\"===c.yytext.slice(-2)?(g(0,1),this.begin("mu")):"\\"===c.yytext.slice(-1)?(g(0,1),this.begin("emu")):
this.begin("mu");if(c.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==c.yytext.slice(-1)&&this.popState(),"\\"===c.yytext.slice(-1)&&g(0,1),14;case 3:return g(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState();this.begin("com");break;case 12:return g(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:return 38;case 16:return 38;case 17:return 42;case 19:return this.popState(),
24;case 20:return this.popState(),18;case 21:return c.yytext=g(1,2).replace(/\\"/g,'"'),32;case 22:return c.yytext=g(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:return 34;case 25:return 34;case 26:return 33;case 27:return 38;case 28:return c.yytext=g(1,2),38;case 29:return"INVALID";case 30:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,
/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,
25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}}}}();d.lexer=f;c.prototype=d;d.Parser=c;return new c}()}(),b),f=function(b){function c(b){this.value=b}function d(){}var f=b.COMPILER_REVISION,g=b.REVISION_CHANGES,y=b.log;d.prototype={nameLookup:function(b,c){var k,f;0===b.indexOf("depth")&&(k=!0);f=/^[0-9]+$/.test(c)?b+"["+c+"]":d.isValidJavaScriptVariableName(c)?b+"."+c:b+"['"+c+"']";return k?"("+b+" && "+f+")":f},appendToBuffer:function(b){return this.environment.isSimple?
"return "+b+";":{appendToBuffer:!0,content:b,toString:function(){return"buffer += "+b+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,f){this.environment=b;this.options=c||{};y("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=
[];this.compileChildren(b,c);b=b.opcodes;this.i=0;for(d=b.length;this.i<d;this.i++)c=b[this.i],"DECLARE"===c.opcode?this[c.name]=c.value:this[c.opcode].apply(this,c.args),c.opcode!==this.stripNext&&(this.stripNext=!1);this.pushSource("");return this.createFunctionContext(f)},preamble:function(){var b=[];if(this.isChild)b.push("");else{var c=this.namespace,d="helpers = this.merge(helpers, "+c+".helpers);";this.environment.usePartial&&(d=d+" partials = this.merge(partials, "+c+".partials);");this.options.data&&
(d+=" data = data || {};");b.push(d)}this.environment.isSimple?b.push(""):b.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=b},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);0<c.length&&(this.source[1]=this.source[1]+", "+c.join(", "));if(!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+
";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");c=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];d=0;for(var t=this.environment.depths.list.length;d<t;d++)c.push("depth"+this.environment.depths.list[d]);d=this.mergeSource();this.isChild||(d="this.compilerInfo = ["+f+",'"+g[f]+"'];\n"+d);if(b)return c.push(d),Function.apply(this,c);b="function "+(this.name||"")+"("+c.join(",")+
") {\n "+d+"}";y("debug",b+"\n\n");return b},mergeSource:function(){for(var b="",c,d=0,f=this.source.length;d<f;d++){var g=this.source[d];g.appendToBuffer?c=c?c+"\n + "+g.content:g.content:(c&&(b+="buffer += "+c+";\n ",c=void 0),b+=g+"\n ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var b=["depth0"];this.setupParams(0,b);this.replaceStack(function(c){b.splice(1,0,c);return"blockHelperMissing.call("+b.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing=
"helpers.blockHelperMissing";var b=["depth0"];this.setupParams(0,b);var c=this.topStack();b.splice(1,0,c);b[b.length-1]="options";this.pushSource("if (!"+this.lastHelper+") { "+c+" = blockHelperMissing.call("+b.join(", ")+"); }")},appendContent:function(b){this.pendingContent&&(b=this.pendingContent+b);this.stripNext&&(b=b.replace(/^\s+/,""));this.pendingContent=b},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();
var b=this.popStack();this.pushSource("if("+b+" || "+b+" === 0) { "+this.appendToBuffer(b)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(b){this.lastContext!==b&&(this.lastContext=b)},lookupOnContext:function(b){this.push(this.nameLookup("depth"+this.lastContext,b,"context"))},
pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(b){return"typeof "+b+" === functionType ? "+b+".apply(depth0) : "+b})},lookup:function(b){this.replaceStack(function(c){return c+" == null || "+c+" === false ? "+c+" : "+this.nameLookup(c,b,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(b,c){this.pushStackLiteral("depth"+this.lastContext);
this.pushString(c);"string"===typeof b?this.pushString(b):this.pushStackLiteral(b)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var b=this.hash;this.hash=void 0;this.options.stringParams&&(this.register("hashContexts","{"+b.contexts.join(",")+"}"),this.register("hashTypes","{"+b.types.join(",")+"}"));this.push("{\n "+
b.values.join(",\n ")+"\n }")},pushString:function(b){this.pushStackLiteral(this.quotedString(b))},push:function(b){this.inlineStack.push(b);return b},pushLiteral:function(b){this.pushStackLiteral(b)},pushProgram:function(b){null!=b?this.pushStackLiteral(this.programExpression(b)):this.pushStackLiteral(null)},invokeHelper:function(b,c){this.context.aliases.helperMissing="helpers.helperMissing";var d=this.lastHelper=this.setupHelper(b,c,!0),f=this.nameLookup("depth"+this.lastContext,c,"context");this.push(d.name+
" || "+f);this.replaceStack(function(b){return b+" ? "+b+".call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+")"})},invokeKnownHelper:function(b,c){var d=this.setupHelper(b,c);this.push(d.name+".call("+d.callParams+")")},invokeAmbiguous:function(b,c){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var d=this.setupHelper(0,b,c),f=this.lastHelper=this.nameLookup("helpers",b,"helper"),g=this.nameLookup("depth"+this.lastContext,b,"context"),r=this.nextStack();
this.pushSource("if ("+r+" = "+f+") { "+r+" = "+r+".call("+d.callParams+"); }");this.pushSource("else { "+r+" = "+g+"; "+r+" = typeof "+r+" === functionType ? "+r+".call("+d.callParams+") : "+r+"; }")},invokePartial:function(b){b=[this.nameLookup("partials",b,"partial"),"'"+b+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(b){var c=this.popStack(),d,f;this.options.stringParams&&
(f=this.popStack(),d=this.popStack());var g=this.hash;d&&g.contexts.push("'"+b+"': "+d);f&&g.types.push("'"+b+"': "+f);g.values.push("'"+b+"': ("+c+")")},compiler:d,compileChildren:function(b,c){for(var d=b.children,f,g,r=0,l=d.length;r<l;r++){f=d[r];g=new this.compiler;var h=this.matchExistingProgram(f);null==h?(this.context.programs.push(""),h=this.context.programs.length,f.index=h,f.name="program"+h,this.context.programs[h]=g.compile(f,c,this.context),this.context.environments[h]=f):(f.index=h,
f.name="program"+h)}},matchExistingProgram:function(b){for(var c=0,d=this.context.environments.length;c<d;c++){var f=this.context.environments[c];if(f&&f.equals(b))return c}},programExpression:function(b){this.context.aliases.self="this";if(null==b)return"self.noop";var c=this.environment.children[b];b=c.depths.list;for(var d=[c.index,c.name,"data"],f=0,g=b.length;f<g;f++)c=b[f],1===c?d.push("depth0"):d.push("depth"+(c-1));return(0===b.length?"self.program(":"self.programWithDepth(")+d.join(", ")+
")"},register:function(b,c){this.useRegister(b);this.pushSource(b+" = "+c+";")},useRegister:function(b){this.registers[b]||(this.registers[b]=!0,this.registers.list.push(b))},pushStackLiteral:function(b){return this.push(new c(b))},pushSource:function(b){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);b&&this.source.push(b)},pushStack:function(b){this.flushInline();var c=this.incrStack();b&&this.pushSource(c+" = "+b+";");
this.compileStack.push(c);return c},replaceStack:function(b){var d="",k=this.isInline(),f;k?(f=this.popStack(!0),f instanceof c?f=f.value:(d=this.stackSlot?this.topStackName():this.incrStack(),d="("+this.push(d)+" = "+f+"),",f=this.topStack())):f=this.topStack();b=b.call(this,f);k?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+d+b+")")):(/^stack/.test(f)||(f=this.nextStack()),this.pushSource(f+" = ("+d+b+");"));return f},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var b=this.inlineStack;if(b.length){this.inlineStack=[];for(var d=0,k=b.length;d<k;d++){var f=b[d];f instanceof c?this.compileStack.push(f):this.pushStack(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(b){var d=this.isInline(),k=(d?this.inlineStack:
this.compileStack).pop();if(!b&&k instanceof c)return k.value;d||this.stackSlot--;return k},topStack:function(b){var d=this.isInline()?this.inlineStack:this.compileStack,d=d[d.length-1];return!b&&d instanceof c?d.value:d},quotedString:function(b){return'"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(b,c,d){var f=[];this.setupParams(b,f,d);b=this.nameLookup("helpers",c,"helper");
return{params:f,name:b,callParams:["depth0"].concat(f).join(", "),helperMissingParams:d&&["depth0",this.quotedString(c)].concat(f).join(", ")}},setupParams:function(b,c,d){var f=[],g=[],r=[],l,h;f.push("hash:"+this.popStack());l=this.popStack();if((h=this.popStack())||l)h||(this.context.aliases.self="this",h="self.noop"),l||(this.context.aliases.self="this",l="self.noop"),f.push("inverse:"+l),f.push("fn:"+h);for(h=0;h<b;h++)l=this.popStack(),c.push(l),this.options.stringParams&&(r.push(this.popStack()),
g.push(this.popStack()));this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+r.join(",")+"]"),f.push("hashContexts:hashContexts"),f.push("hashTypes:hashTypes"));this.options.data&&f.push("data:data");f="{"+f.join(",")+"}";d?(this.register("options",f),c.push("options")):c.push(f);return c.join(", ")}};b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" ");
for(var w=d.RESERVED_WORDS={},r=0,x=b.length;r<x;r++)w[b[r]]=!0;d.isValidJavaScriptVariableName=function(b){return!d.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(b)?!0:!1};return d}(f),d=function(b,c,d,f){function g(){}var y={},w=c.parse;y.Compiler=g;g.prototype={compiler:g,disassemble:function(){for(var b=this.opcodes,c,d=[],f,k,g=0,l=b.length;g<l;g++)if(c=b[g],"DECLARE"===c.opcode)d.push("DECLARE "+c.name+"="+c.value);else{f=[];for(var p=0;p<c.args.length;p++)k=c.args[p],"string"===typeof k&&
(k='"'+k.replace("\n","\\n")+'"'),f.push(k);d.push(c.opcode+" "+f.join(" "))}return d.join("\n")},equals:function(b){var c=this.opcodes.length;if(b.opcodes.length!==c)return!1;for(var d=0;d<c;d++){var f=this.opcodes[d],k=b.opcodes[d];if(f.opcode!==k.opcode||f.args.length!==k.args.length)return!1;for(var g=0;g<f.args.length;g++)if(f.args[g]!==k.args[g])return!1}c=this.children.length;if(b.children.length!==c)return!1;for(d=0;d<c;d++)if(!this.children[d].equals(b.children[d]))return!1;return!0},guid:0,
compile:function(b,c){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=c;var d=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(d)for(var f in d)this.options.knownHelpers[f]=d[f];return this.accept(b)},accept:function(b){var c=b.strip||{};c.left&&this.opcode("strip");b=this[b.type](b);c.right&&this.opcode("strip");return b},program:function(b){b=b.statements;for(var c=0,d=b.length;c<d;c++)this.accept(b[c]);
this.isSimple=1===d;this.depths.list=this.depths.list.sort(function(b,c){return b-c});return this},compileProgram:function(b){b=(new this.compiler).compile(b,this.options);var c=this.guid++,d;this.usePartial=this.usePartial||b.usePartial;this.children[c]=b;for(var f=0,k=b.depths.list.length;f<k;f++)d=b.depths.list[f],2>d||this.addDepth(d-1);return c},block:function(b){var c=b.mustache,d=b.program;b=b.inverse;d&&(d=this.compileProgram(d));b&&(b=this.compileProgram(b));var f=this.classifyMustache(c);
"helper"===f?this.helperMustache(c,d,b):"simple"===f?(this.simpleMustache(c),this.opcode("pushProgram",d),this.opcode("pushProgram",b),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(c,d,b),this.opcode("pushProgram",d),this.opcode("pushProgram",b),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(b){b=b.pairs;var c,d;this.opcode("pushHash");for(var f=0,k=b.length;f<k;f++)c=b[f],d=c[1],this.options.stringParams?(d.depth&&this.addDepth(d.depth),
this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type)):this.accept(d),this.opcode("assignToHash",c[0]);this.opcode("popHash")},partial:function(b){var c=b.partialName;this.usePartial=!0;b.context?this.ID(b.context):this.opcode("push","depth0");this.opcode("invokePartial",c.name);this.opcode("append")},content:function(b){this.opcode("appendContent",b.string)},mustache:function(b){var c=this.options,d=this.classifyMustache(b);"simple"===d?this.simpleMustache(b):
"helper"===d?this.helperMustache(b):this.ambiguousMustache(b);b.escaped&&!c.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(b,c,d){b=b.id;var f=b.parts[0],k=null!=c||null!=d;this.opcode("getContext",b.depth);this.opcode("pushProgram",c);this.opcode("pushProgram",d);this.opcode("invokeAmbiguous",f,k)},simpleMustache:function(b){b=b.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext"));
this.opcode("resolvePossibleLambda")},helperMustache:function(b,c,d){c=this.setupFullMustacheParams(b,c,d);b=b.id.parts[0];if(this.options.knownHelpers[b])this.opcode("invokeKnownHelper",c.length,b);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+b);this.opcode("invokeHelper",c.length,b)}},ID:function(b){this.addDepth(b.depth);this.opcode("getContext",b.depth);b.parts[0]?this.opcode("lookupOnContext",b.parts[0]):this.opcode("pushContext");
for(var c=1,d=b.parts.length;c<d;c++)this.opcode("lookup",b.parts[c])},DATA:function(c){this.options.data=!0;if(c.id.isScoped||c.id.depth)throw new b("Scoped data references are not supported: "+c.original);this.opcode("lookupData");c=c.id.parts;for(var d=0,e=c.length;d<e;d++)this.opcode("lookup",c[d])},STRING:function(b){this.opcode("pushString",b.string)},INTEGER:function(b){this.opcode("pushLiteral",b.integer)},BOOLEAN:function(b){this.opcode("pushLiteral",b.bool)},comment:function(){},opcode:function(b){this.opcodes.push({opcode:b,
args:[].slice.call(arguments,1)})},declare:function(b,c){this.opcodes.push({opcode:"DECLARE",name:b,value:c})},addDepth:function(b){if(isNaN(b))throw Error("EWOT");0===b||this.depths[b]||(this.depths[b]=!0,this.depths.list.push(b))},classifyMustache:function(b){var c=b.isHelper,d=b.eligibleHelper,f=this.options;d&&!c&&(f.knownHelpers[b.id.parts[0]]?c=!0:f.knownHelpersOnly&&(d=!1));return c?"helper":d?"ambiguous":"simple"},pushParams:function(b){for(var c=b.length,d;c--;)if(d=b[c],this.options.stringParams)d.depth&&
this.addDepth(d.depth),this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type);else this[d.type](d)},setupMustacheParams:function(b){var c=b.params;this.pushParams(c);b.hash?this.hash(b.hash):this.opcode("emptyHash");return c},setupFullMustacheParams:function(b,c,d){var f=b.params;this.pushParams(f);this.opcode("pushProgram",c);this.opcode("pushProgram",d);b.hash?this.hash(b.hash):this.opcode("emptyHash");return f}};y.precompile=function(c,m){if(null==c||"string"!==
typeof c&&c.constructor!==f.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+c);m=m||{};"data"in m||(m.data=!0);var e=w(c),e=(new g).compile(e,m);return(new d).compile(e,m)};y.compile=function(c,m,e){if(null==c||"string"!==typeof c&&c.constructor!==f.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);m=m||{};"data"in m||(m.data=!0);var q;return function(b,f){if(!q){var p=w(c),p=(new g).compile(p,
m),p=(new d).compile(p,m,void 0,!0);q=e.template(p)}return q.call(this,b,f)}};return y}(d,g,f,b);return function(b,c,d,f,g){var y=d.parser,w=d.parse,r=f.Compiler,x=f.compile,e=f.precompile,q=b.create;d=function(){var b=q();b.compile=function(c,d){return x(c,d,b)};b.precompile=e;b.AST=c;b.Compiler=r;b.JavaScriptCompiler=g;b.Parser=y;b.parse=w;return b};b=d();b.create=d;return b}(c,b,g,d,f)}();(function(c,b,d){function f(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)}function g(b){if("keypress"==b.type){var c=String.fromCharCode(b.which);b.shiftKey||(c=c.toLowerCase());return c}return e[b.which]?e[b.which]:q[b.which]?q[b.which]:String.fromCharCode(b.which).toLowerCase()}function n(b){b=b||{};var c=!1,d;for(d in h)b[d]?c=!0:h[d]=0;c||(z=!1)}function m(b,c,d,e,f,k){var g,l,q=[],p=d.type;if(!v[b])return[];"keyup"==p&&y(b)&&(c=[b]);for(g=0;g<v[b].length;++g)if(l=
v[b][g],!(!e&&l.seq&&h[l.seq]!=l.level||p!=l.action||("keypress"!=p||d.metaKey||d.ctrlKey)&&c.sort().join(",")!==l.modifiers.sort().join(","))){var m=e&&l.seq==e&&l.level==k;(!e&&l.combo==f||m)&&v[b].splice(g,1);q.push(l)}return q}function s(b){var c=[];b.shiftKey&&c.push("shift");b.altKey&&c.push("alt");b.ctrlKey&&c.push("ctrl");b.metaKey&&c.push("meta");return c}function p(b,c,d){E.stopCallback(c,c.target||c.srcElement,d)||!1!==b(c,d)||(c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),
c.returnValue=!1,c.cancelBubble=!0)}function l(b){"number"!==typeof b.which&&(b.which=b.keyCode);var c=g(b);c&&("keyup"==b.type&&D===c?D=!1:E.handleKey(c,s(b),b))}function y(b){return"shift"==b||"ctrl"==b||"alt"==b||"meta"==b}function w(b,c,d,e){function f(c){return function(){z=c;++h[b];clearTimeout(A);A=setTimeout(n,1E3)}}function k(c){p(d,c,b);"keyup"!==e&&(D=g(c));setTimeout(n,10)}for(var l=h[b]=0;l<c.length;++l){var q=l+1===c.length?k:f(e||r(c[l+1]).action);x(c[l],q,e,b,l)}}function r(b,c){var d,
f,h,g=[];d="+"===b?["+"]:b.split("+");for(h=0;h<d.length;++h)f=d[h],t[f]&&(f=t[f]),c&&"keypress"!=c&&k[f]&&(f=k[f],g.push("shift")),y(f)&&g.push(f);d=f;h=c;if(!h){if(!B){B={};for(var l in e)95<l&&112>l||e.hasOwnProperty(l)&&(B[e[l]]=l)}h=B[d]?"keydown":"keypress"}"keypress"==h&&g.length&&(h="keydown");return{key:f,modifiers:g,action:h}}function x(b,c,d,e,f){u[b+":"+d]=c;b=b.replace(/\s+/g," ");var k=b.split(" ");1<k.length?w(b,k,c,d):(d=r(b,d),v[d.key]=v[d.key]||[],m(d.key,d.modifiers,{type:d.action},
e,b,f),v[d.key][e?"unshift":"push"]({callback:c,modifiers:d.modifiers,action:d.action,seq:e,level:f,combo:b}))}var e={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},q={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1",
"@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},t={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},B,v={},u={},h={},A,D=!1,C=!1,z=!1;for(d=1;20>d;++d)e[111+d]="f"+d;for(d=0;9>=d;++d)e[d+96]=d;f(b,"keypress",l);f(b,"keydown",l);f(b,"keyup",l);var E={bind:function(b,c,d){b=b instanceof Array?b:[b];for(var e=0;e<b.length;++e)x(b[e],c,d);return this},
unbind:function(b,c){return E.bind(b,function(){},c)},trigger:function(b,c){if(u[b+":"+c])u[b+":"+c]({},b);return this},reset:function(){v={};u={};return this},stopCallback:function(b,c){return-1<(" "+c.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==c.tagName||"SELECT"==c.tagName||"TEXTAREA"==c.tagName||c.isContentEditable},handleKey:function(b,c,d){var e=m(b,c,d),f;c={};var k=0,h=!1;for(f=0;f<e.length;++f)e[f].seq&&(k=Math.max(k,e[f].level));for(f=0;f<e.length;++f)e[f].seq?e[f].level==k&&(h=!0,
c[e[f].seq]=1,p(e[f].callback,d,e[f].combo)):h||p(e[f].callback,d,e[f].combo);e="keypress"==d.type&&C;d.type!=z||y(b)||e||n(c);C=h&&"keydown"==d.type}};c.Mousetrap=E;"function"===typeof define&&define.amd&&define(E)})(window,document);window.appstorm=window.a=_.noConflict();a.__defaultAjaxOptions={};a.url="";a.getStackTrace=function(){return Error().stack};a.isNone=function(c){return a.isNull(c)||a.isUndefined(c)};a.deepClone=function(c){if(a.isObject(c)){if(a.isArray(c))for(var b=c.length,d=Array(b),f=0;f<b;++f)d[f]=a.deepClone(c[f]);else for(b in d={},a.isFunction(c.constructor)&&(d=new c.constructor),a.isObject(c.prototype)&&(d.prototype=c.prototype),c)d[b]=a.deepClone(c[b]);return d}return c};
a.contains=function(c,b){if(c instanceof Array)for(var d=c.length;d--;){if(c[d]===b)return!0}else if(this.isObject(c))return b in c;return!1};a.isNumber=function(c){return!isNaN(parseFloat(c))&&isFinite(c)};a.isObject=function(c){return"object"===typeof c&&null!==c};a.isString=function(c){return"string"===typeof c};a.isFunction=function(c){return"function"===typeof c};a.isNull=function(c){return"undefined"===typeof c||null===c};a.isBoolean=function(c){return"boolean"===typeof c};
a.isArray=function(c){return c instanceof Array};a.setDefaultAjaxOptions=function(c){a.isObject(c)&&(this.__defaultAjaxOptions=c)};a.getDefaultAjaxOptions=function(){return this.__defaultAjaxOptions};(function(){var c=document.getElementById("a-core");c&&"undefined"!==typeof c.src&&(a.url=c.src.replace(/\/[^/]*$/,"/"))})();a.environment=new function(){var c={verbose:2,console:"log"};this.get=function(b){return b in c?c[b]:null};this.set=function(b,d){a.isNone(b)||(c[b]=d,a.message.dispatch("a.environment.add",{key:b,value:d}))};this.remove=function(b){a.isNone(c[b])||(delete c[b],a.message.dispatch("a.environment.remove",{key:b}))};this.clear=function(){c={verbose:2,console:"log"}}};a.console=function(){function c(c,f,g,n){a.isArray(b[c])||(c="log");b[c].push(f);if(!a.isNone(window.console)&&a.isFunction(window.console.log)&&!1!==n)switch(a.environment.get("console")){case "error":if("error"!==c)break;case "warning":case "warn":if("warn"!==c&&"error"!==c)break;case "info":if("log"===c)break;default:n=!0;var m=!1;if(a.isString(f)&&0<=f.indexOf(":"))for(var s=f.substr(0,f.indexOf(":")).split("."),p=s.length;p--;){var l="verbose-"+s.join("."),l=a.environment.get(l);if(!a.isNone(l)){m=
!0;n=l<g?!1:!0;break}s.pop()}m||(a.isNone(a.environment.get("verbose"))||a.isNone(g))||parseInt(a.environment.get("verbose"),10)<g&&(n=!1);if(n)window.console[c](f)}for(;2E3<b[c].length;)b[c].shift()}var b={log:[],warn:[],info:[],error:[]};return{log:function(b,f,g){c("log",b,f,g)},warn:function(b,f,g){c("warn",b,f,g)},info:function(b,f,g){c("info",b,f,g)},error:function(b,f,g){c("error",b,f,g)},trace:function(c){return a.isString(c)&&c in b?b[c]:b},clear:function(){b={log:[],warn:[],info:[],error:[]}}}}();a.eventEmitter=function(){function c(c){for(var f in b.__list)1>b.__list[f].length&&delete b.__list[f]}var b=function(){this.__list={};this.__base="a.message"};b.prototype.setName=function(b){this.__base=""+b};b.prototype.addListener=function(b,c){a.isFunction(c)?(a.isNone(this.__list[b])&&(this.__list[b]=[]),this.__list[b].push(c),this.dispatch(this.__base+".add",{type:b,fct:c})):a.console.warn(this.__base+".addListener : unable to bind function, this is not a function",1)};b.prototype.add=b.prototype.on=
b.prototype.bind=b.prototype.addListener;b.prototype.addListenerOnce=function(b,c){var g=this,n=function(m){c(m);g.removeListener(b,n)};this.addListener(b,n)};b.prototype.once=b.prototype.onOnce=b.prototype.bindOnce=b.prototype.addListenerOnce;b.prototype.removeListener=function(b,f){if(!a.isNone(this.__list[b])){var g=this.__list[b].length;if(a.isFunction(f))for(;g--;)this.__list[b][g]===f&&this.__list[b].splice(g,1);this.dispatch(this.__base+".remove",{type:b,fct:f});c(b)}};b.prototype.remove=b.prototype.off=
b.prototype.unbind=b.prototype.removeListener;b.prototype.removeAllListeners=function(b){a.isNone(this.__list[b])||(this.__list[b]=[],c(b))};b.prototype.removeAll=b.prototype.offAll=b.prototype.unbindAll=b.prototype.removeAllListeners;b.prototype.clear=function(){var b=this.__base+".clear",c;for(c in this.__list)c!==b&&delete this.__list[c];this.dispatch(b,{})};b.prototype.dispatch=function(b,c){var g=this.__list[b];if(!a.isNone(g))for(var n=0,m=g.length;n<m;++n)(function(b){setTimeout(function(){b(c)},
0)})(g[n])};return b}();a.message=new a.eventEmitter;a.message.setName=function(){};a.isNone(JSON)&&(a.isNone(JSON.parser)||a.isNone(JSON.stringify))&&function(){function c(c){var e,k,h,l="json"==c;if(l||"json-stringify"==c||"json-parse"==c){if("json-stringify"==c||l){if(e="function"==typeof p.stringify&&A){(h=function(){return 1}).toJSON=h;try{e="0"===p.stringify(0)&&"0"===p.stringify(new Number)&&'""'==p.stringify(new String)&&p.stringify(g)===b&&p.stringify(b)===b&&p.stringify()===b&&"1"===p.stringify(h)&&"[1]"==p.stringify([h])&&"[null]"==p.stringify([b])&&"null"==p.stringify(f)&&
"[null,null,null]"==p.stringify([b,g,f])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==p.stringify({A:[h,d,!1,f,"\x00\b\n\f\r\t"]})&&"1"===p.stringify(f,h)&&"[\n 1,\n 2\n]"==p.stringify([1,2],f,1)&&'"-271821-04-20T00:00:00.000Z"'==p.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==p.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==p.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==p.stringify(new Date(-1))}catch(q){e=!1}}if(!l)return e}if("json-parse"==
c||l){if("function"==typeof p.parse)try{if(0===p.parse("0")&&!p.parse(!1)&&(h=p.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),k=5==h.a.length&&1==h.a[0])){try{k=!p.parse('"\t"')}catch(m){}if(k)try{k=1!=p.parse("01")}catch(t){}}}catch(n){k=!1}if(!l)return k}return e&&k}}var b=void 0,d=!0,f=null,g={}.toString,n,m,s="function"===typeof define&&define.c,p=!s&&"object"==typeof exports&&exports;p||s?"object"==typeof JSON&&JSON?s?p=JSON:(p.stringify=JSON.stringify,p.parse=JSON.parse):s&&(p=
this.JSON={}):p=this.JSON||(this.JSON={});var l,y,w,r,x,e,q,k,t,B,v,u,h,A=new Date(-0xc782b5b800cec),D,C,z;try{A=-109252==A.getUTCFullYear()&&0===A.getUTCMonth()&&1==A.getUTCDate()&&10==A.getUTCHours()&&37==A.getUTCMinutes()&&6==A.getUTCSeconds()&&708==A.getUTCMilliseconds()}catch(E){}c("json")||(A||(D=Math.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(b,c){return C[c]+365*(b-1970)+D((b-1969+(c=+(1<c)))/4)-D((b-1901+c)/100)+D((b-1601+c)/400)}),(n={}.hasOwnProperty)||(n=function(b){var c=
{},d;(c.__proto__=f,c.__proto__={toString:1},c).toString!=g?n=function(b){var c=this.__proto__;b=b in(this.__proto__=f,this);this.__proto__=c;return b}:(d=c.constructor,n=function(b){var c=(this.constructor||d).prototype;return b in this&&!(b in c&&this[b]===c[b])});c=f;return n.call(this,b)}),m=function(b,c){var d=0,e,k,h;(e=function(){this.valueOf=0}).prototype.valueOf=0;k=new e;for(h in k)n.call(k,h)&&d++;e=k=f;d?d=2==d?function(b,c){var d={},e="[object Function]"==g.call(b),f;for(f in b)e&&"prototype"==
f||n.call(d,f)||(d[f]=1)&&n.call(b,f)&&c(f)}:function(b,c){var d="[object Function]"==g.call(b),e,f;for(e in b)d&&"prototype"==e||!n.call(b,e)||(f="constructor"===e)||c(e);(f||n.call(b,e="constructor"))&&c(e)}:(k="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),d=function(b,c){var d="[object Function]"==g.call(b),e;for(e in b)d&&"prototype"==e||!n.call(b,e)||c(e);for(d=k.length;e=k[--d];n.call(b,e)&&c(e));});d(b,c)},c("json-stringify")||(l=
{"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},y=function(b,c){return("000000"+(c||0)).slice(-b)},w=function(b){for(var c='"',d=0,e;e=b.charAt(d);d++)c+=-1<'\\"\b\f\n\r\t'.indexOf(e)?l[e]:l[e]=" ">e?"\\u00"+y(2,e.charCodeAt(0).toString(16)):e;return c+'"'},r=function(c,e,k,h,l,q,p){var t=e[c],v,u,B,s,x,A,C,E,H;if("object"==typeof t&&t)if(v=g.call(t),"[object Date]"!=v||n.call(t,"toJSON"))"function"==typeof t.toJSON&&("[object Number]"!=v&&"[object String]"!=v&&"[object Array]"!=
v||n.call(t,"toJSON"))&&(t=t.toJSON(c));else if(t>-1/0&&t<1/0){if(z){B=D(t/864E5);for(v=D(B/365.2425)+1970-1;z(v+1,0)<=B;v++);for(u=D((B-z(v,0))/30.42);z(v,u+1)<=B;u++);B=1+B-z(v,u);s=(t%864E5+864E5)%864E5;x=D(s/36E5)%24;A=D(s/6E4)%60;C=D(s/1E3)%60;s%=1E3}else v=t.getUTCFullYear(),u=t.getUTCMonth(),B=t.getUTCDate(),x=t.getUTCHours(),A=t.getUTCMinutes(),C=t.getUTCSeconds(),s=t.getUTCMilliseconds();t=(0>=v||1E4<=v?(0>v?"-":"+")+y(6,0>v?-v:v):y(4,v))+"-"+y(2,u+1)+"-"+y(2,B)+"T"+y(2,x)+":"+y(2,A)+":"+
y(2,C)+"."+y(3,s)+"Z"}else t=f;k&&(t=k.call(e,c,t));if(t===f)return"null";v=g.call(t);if("[object Boolean]"==v)return""+t;if("[object Number]"==v)return t>-1/0&&t<1/0?""+t:"null";if("[object String]"==v)return w(t);if("object"==typeof t){for(c=p.length;c--;)if(p[c]===t)throw TypeError();p.push(t);E=[];e=q;q+=l;if("[object Array]"==v){u=0;for(c=t.length;u<c;H||(H=d),u++)v=r(u,t,k,h,l,q,p),E.push(v===b?"null":v);c=H?l?"[\n"+q+E.join(",\n"+q)+"\n"+e+"]":"["+E.join(",")+"]":"[]"}else m(h||t,function(c){var e=
r(c,t,k,h,l,q,p);e!==b&&E.push(w(c)+":"+(l?" ":"")+e);H||(H=d)}),c=H?l?"{\n"+q+E.join(",\n"+q)+"\n"+e+"}":"{"+E.join(",")+"}":"{}";p.pop();return c}},p.stringify=function(b,c,d){var e,f,k,h,l,t;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==g.call(c))f=c;else if("[object Array]"==g.call(c))for(k={},h=0,l=c.length;h<l;t=c[h++],("[object String]"==g.call(t)||"[object Number]"==g.call(t))&&(k[t]=1));if(d)if("[object Number]"==g.call(d)){if(0<(d-=d%1))for(e="",10<d&&(d=10);e.length<
d;e+=" ");}else"[object String]"==g.call(d)&&(e=10>=d.length?d:d.slice(0,10));return r("",(t={},t[""]=b,t),f,k,e,"",[])}),c("json-parse")||(x=String.fromCharCode,e={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},q=function(){u=h=f;throw SyntaxError();},k=function(){for(var b=h,c=b.length,k,g,l,t,p;u<c;)if(k=b.charAt(u),-1<"\t\r\n ".indexOf(k))u++;else{if(-1<"{}[]:,".indexOf(k))return u++,k;if('"'==k){g="@";for(u++;u<c;)if(k=b.charAt(u)," ">k)q();else if("\\"==k)if(k=b.charAt(++u),-1<
'\\"/btnfr'.indexOf(k))g+=e[k],u++;else if("u"==k){l=++u;for(t=u+4;u<t;u++)k=b.charAt(u),"0"<=k&&"9">=k||"a"<=k&&"f">=k||"A"<=k&&"F">=k||q();g+=x("0x"+b.slice(l,u))}else q();else{if('"'==k)break;g+=k;u++}if('"'==b.charAt(u))return u++,g}else{l=u;"-"==k&&(p=d,k=b.charAt(++u));if("0"<=k&&"9">=k){for("0"==k&&(k=b.charAt(u+1),"0"<=k&&"9">=k)&&q();u<c&&(k=b.charAt(u),"0"<=k&&"9">=k);u++);if("."==b.charAt(u)){for(t=++u;t<c&&(k=b.charAt(t),"0"<=k&&"9">=k);t++);t==u&&q();u=t}k=b.charAt(u);if("e"==k||"E"==
k){k=b.charAt(++u);"+"!=k&&"-"!=k||u++;for(t=u;t<c&&(k=b.charAt(t),"0"<=k&&"9">=k);t++);t==u&&q();u=t}return+b.slice(l,u)}p&&q();if("true"==b.slice(u,u+4))return u+=4,d;if("false"==b.slice(u,u+5))return u+=5,!1;if("null"==b.slice(u,u+4))return u+=4,f}q()}return"$"},t=function(b){var c,e;"$"==b&&q();if("string"==typeof b){if("@"==b.charAt(0))return b.slice(1);if("["==b){for(c=[];;e||(e=d)){b=k();if("]"==b)break;e&&(","==b?(b=k(),"]"==b&&q()):q());","==b&&q();c.push(t(b))}return c}if("{"==b){for(c=
{};;e||(e=d)){b=k();if("}"==b)break;e&&(","==b?(b=k(),"}"==b&&q()):q());","!=b&&"string"==typeof b&&"@"==b.charAt(0)&&":"==k()||q();c[b.slice(1)]=t(k())}return c}q()}return b},v=function(c,d,e){e=B(c,d,e);e===b?delete c[d]:c[d]=e},B=function(b,c,d){var e=b[c],k;if("object"==typeof e&&e)if("[object Array]"==g.call(e))for(k=e.length;k--;)v(e,k,d);else m(e,function(b){v(e,b,d)});return d.call(b,c,e)},p.parse=function(b,c){var d,e;u=0;h=b;d=t(k());"$"!=k()&&q();u=h=f;return c&&"[object Function]"==g.call(c)?
B((e={},e[""]=d,e),"",c):d}));s&&define(function(){return p})}();
a.parser={json:{stringify:function(c){try{return JSON.stringify(c)}catch(b){return a.console.error("a.parser.json.stringify: unable to stringify (value: "+c+")",1),a.environment.get("debug")&&a.console.error(a.getStackTrace(),1),""}},parse:function(c){try{return JSON.parse(c)}catch(b){return a.console.error("a.parser.json.parse: unable to parse (value: "+c+")",1),a.environment.get("debug")&&a.console.error(a.getStackTrace(),1),null}}},xml:{stringify:function(c){if(!a.isNone(c)&&!a.isNone(c.xml))return c.xml;
if(!a.isNone(window.XMLSerializer))try{return(new window.XMLSerializer).serializeToString(c)}catch(b){a.console.error("a.parser.xml.stringify: unable to stringify (value: "+c+")",1),a.environment.get("debug")&&a.console.error(a.getStackTrace(),1)}a.console.error("a.parser.xml.stringify: unable to find any parser available",1);return""},parse:function(c){if(!a.isNone(window.ActiveXObject)){for(var b=null,d=0;4>d;++d)try{b=new ActiveXObject(("MSXML2.DOMDocument."+(6-d)+".0")[d])}catch(f){}b.async=!1;
b.loadXML(c);return 0!=b.parseError.errorCode?(a.console.error("a.parser.xml.parse: unable to parse (value: "+c+", reason"+b.parseError.reason+")",1),a.environment.get("debug")&&a.console.error(a.getStackTrace(),1),null):b}if(!a.isNone(window.DOMParser))return(new DOMParser).parseFromString(c,"text/xml");a.console.error("a.parser.xml.parse: unable to find any parser available",1);return null}}};a.timer=function(){var c={};setInterval(function(){a.message.dispatch("a.timer.tick");for(var b in c){var d=c[b];d.current+=50;d.current>=d.timeout&&(d.current=0,a.isFunction(d.fct)&&d.fct.call(d.scope||this))}},50);return{add:function(b,d,f){var g;for(g=Math.floor(1E6*Math.random());!a.isNone(c[g]);)g=Math.floor(1E6*Math.random());if(!a.isNumber(f)||0>=f)f=1E3,a.console.warn("The timeout has not been setted properly into timer, timeout has been setted to 1000ms",1);c[g]={fct:b,scope:d,timeout:f,
current:0};return g},once:function(b,c,f){var g=this.add(function(){a.isFunction(b)&&b.call(this);a.timer.remove(g)},c,f);return g},get:function(b){b=c[b];return a.isNone(b)?null:b},remove:function(b){return delete c[b]},clear:function(){c={}}}}();a.dom={query:function(c,b){b=b||document;return!b.querySelectorAll&&window.jQuery?this.el(jQuery(c)):this.el(b.querySelectorAll(c))},el:function(c){if(window.jQuery&&c instanceof jQuery){for(var b=[],d=c.size();d--;)b.push(c.get(d));c=b}return a.isArray(c)?new this.children(c):new this.children([c])},id:function(c){return this.attr("id",c,document)},cls:function(c,b){return this.attr("class",c,b)},tag:function(c,b){b=a.isObject(b)?b:document;var d=a.isString(c)?c.replace(/ /g,"").split(","):c,f=[],
g=d.length;if(1<g){for(;g--;)for(var n=this.tag(d[g],b).getElements(),m=n.length;m--;)a.contains(f,n[m])||f.push(n[m]);return new a.dom.children(f)}f=b.querySelectorAll?b.querySelectorAll(c):b.getElementsByTagName(c);return new a.dom.children(f)},attr:function(c,b,d){function f(b,c){for(var d=c.length;d--;)a.contains(b,c[d])||b.push(c[d])}if(a.isNone(d)){a.isNone(b)&&(b=document);if(a.isObject(b)&&!a.isArray(b))return this.attr(c,null,b);d=document}if(c&&(a.isArray(c)||0<=c.indexOf(","))){var g=a.isString(c)?
c.replace(/ /g,"").split(","):c,n=g.length;if(1<n){for(var m=[];n--;){var s=this.attr(g[n],b,d),s=s.getElements();f(m,s)}return new a.dom.children(m)}}if(b&&(a.isArray(b)||0<b.indexOf(","))&&(g=a.isString(b)?b.replace(/ /g,"").split(","):b,n=g.length,1<n)){for(m=[];n--;)s=this.attr(c,g[n],d),s=s.getElements(),f(m,s);return new a.dom.children(m)}g=a.isString(b);m=[];c=c.replace(/ /g,"");g&&(b=b.replace(/ /g,""));if("class"==c)m=d.getElementsByClassName(b);else if("id"==c)m=[d.getElementById(b)],a.isNull(m[0])&&
m.pop();else if(d.querySelectorAll)m=d.querySelectorAll(g?"["+c+'="'+b+'"]':"["+c+"]");else for(d=d.getElementsByTagName("*"),n=d.length;n--;){var s=d[n],p=s.getAttribute(c);p&&(g&&p==b||!g)&&(a.contains(m,s)||m.push(s))}return new a.dom.children(m)}};
a.dom.event=new function(){function c(b,c,d){b.addEventListener(c,d,!1)}function b(b,c,d){b.removeEventListener(c,d,!1)}function d(b,c,d){b.attachEvent("on"+c,d)}function f(b,c,d){b.detachEvent("on"+c,d)}function g(b,c,d){b["on"+c]=d}function n(b,c,d){b["on"+c]=null}var m=null,s=null;a.isFunction(window.addEventListener)?(m=c,s=b):a.isFunction(document.attachEvent)?(m=d,s=f):(m=g,s=n);this.bind=m;this.unbind=s};
a.dom.children=function(c){this.elementList=c="undefined"===typeof c.length?[c]:c;this.length=c.length};
a.dom.children.prototype={_perform:function(){var c=[],b=this.elementList,d=Array.prototype.slice.call(arguments),f=d[0],d=d.slice(1),g=d.length,n=b.length;for(d.push(null);n--;){d[g]=b[n];for(var m=f.apply(a.dom,d).getElements(),s=m.length;s--;)a.contains(c,m[s])||c.push(m[s])}this.elementList=c;this.length=c.length;return this},get:function(c){return this.elementList[c]||null},getElements:function(){return this.elementList},id:function(c){return this._perform(a.dom.id,c)},cls:function(c){return this._perform(a.dom.cls,
c)},css:function(c,b){c=c||"";if(0<=c.indexOf("-")){for(var d=c.split("-"),f=1,g=d.length;f<g;++f){var n=d[f];d[f]=n.charAt(0).toUpperCase()+n.slice(1)}c=d.join("")}if(a.isUndefined(b)){d=[];g=this.elementList;for(f=g.length;f--;)n=g[f].style[c],a.isNone(n)||d.push(n);return 1>=d.length?d[0]||"":d}this.each(function(){this.style[c]=b})},addClass:function(c){var b=RegExp("(\\s|^)"+c+"(\\s|$)");this.each(function(){this.classList?this.classList.add(c):this.className.match(b)||(this.className+=" "+c)});
return this},hasClass:function(c){c=RegExp("(\\s|^)"+c+"(\\s|$)");for(var b=this.elementList,d=b.length;d--;)if(!b[d].className.match(c))return!1;return!0},removeClass:function(c){this.each(function(b){this.classList?this.classList.remove(c):(b=RegExp("(\\s|^)"+c+"(\\s|$)"),this.className.match(b)&&this.className.replace(b,""))},this);return this},toggleClass:function(c){this.each(function(b){this.classList?this.classList.toggle(c):(b=RegExp("(\\s|^)"+c+"(\\s|$)"),this.className.match(b)?this.className.replace(b,
""):this.className+=" "+c)},this);return this},bind:function(c,b){var d=a.isString(c)?c.split(" "):c;for(i=d.length;i--;)d[i]&&""!=d[i]&&this.each(function(c){a.dom.event.bind(this,c,b)},d[i].toLowerCase());return this},unbind:function(c,b){var d=a.isString(c)?c.split(" "):c;for(i=d.length;i--;)d[i]&&""!=d[i]&&this.each(function(c){a.dom.event.unbind(this,c,b)},d[i].toLowerCase());return this},tag:function(c){return this._perform(a.dom.tag,c)},attr:function(c,b){return this._perform(a.dom.attr,c,
b)},attribute:function(c,b){if("undefined"===typeof b){for(var d=[],f=this.elementList,g=f.length;g--;)try{var n=f[g].getAttribute();a.isNone(n)||a.contains(d,n)||d.push(n)}catch(m){}return d}this.each(function(){try{this.setAttribute(c,b)}catch(d){}});return this},data:function(c,b){return this.attribute("data-"+c,b)},parent:function(){for(var c=this.elementList,b=[],d=c.length;d--;){var f=c[d].parentNode;a.contains(b,f)||b.push(f)}this.elementList=b;return this},children:function(){for(var c=this.elementList,
b=[],d=c.length;d--;)b.push(a.toArray(c[d].childNodes));this.elementList=a.union.apply(this,b)},insertBefore:function(c){this.each(function(){this.parentNode.insertBefore(c,this)});return this},insertAfter:function(c){this.each(function(){this.parentNode.insertBefore(c,this.nextSibling)});return this},empty:function(){this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)});return this},remove:function(c){this.each(function(){try{this.parentNode.removeChild(c)}catch(b){}});return this},
append:function(c){this.each(function(){this.appendChild(c)});return this},replace:function(c){this.empty();this.append(c);return this},each:function(){for(var c=this.elementList,b=Array.prototype.slice.call(arguments),d=b[0],b=b.slice(1),d=a.isFunction(d)?d:function(){},f=0,g=c.length;f<g;++f)d.apply(c[f],b);return this}};a.ajax=function(c,b,d){var f=a.getDefaultAjaxOptions();this.params={url:"",method:"GET",type:"raw",async:!0,cache:!1,data:{},header:{}};for(var g in this.params)"data"!==g&&"header"!==g&&(g in f&&typeof f[g]===typeof this.params[g]&&(this.params[g]=f[g]),g in c&&typeof c[g]===typeof this.params[g]&&(this.params[g]=c[g]));if(a.isObject(f.data))for(var n in f.data)this.params.data[n]=f.data[n];if(a.isObject(f.header))for(var m in f.header)this.params.header[m]=f.header[m];if(a.isString(c.data))this.params.data=
c.data;else if(a.isObject(c.data))for(var s in c.data)this.params.data[s]=c.data[s];if(a.isObject(c.header))for(var p in c.header)this.params.header[p]=c.header[p];this.success=a.isFunction(b)?b:function(){};this.error=a.isFunction(d)?d:function(){};this.request=null;if(a.isNone(window.XMLHttpRequest)){c=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(var l in c)try{this.request=new ActiveXObject(c[l])}catch(y){}}else this.request=new XMLHttpRequest};
a.ajax.prototype.parseResult=function(c,b){if(204===b.status)return"";var d=c.type.toLowerCase();return"json"===d?a.parser.json.parse(b.responseText):"xml"===d?b.responseXML:b.responseText};a.ajax.prototype.abort=function(){try{this.request.abort()}catch(c){}};
a.ajax.prototype.send=function(){var c=this.params.method.toUpperCase();if(!1===this.params.cache){var b=Math.floor(1E5*Math.random())+1;try{this.params.data.cachedisable=b}catch(d){}}b="";if(a.isString(this.params.data))b=this.params.data;else{for(var f in this.params.data)b+=encodeURIComponent(f)+"="+encodeURIComponent(this.params.data[f])+"&";b=b.slice(0,-1)}var g=this.params.url;f=this.params.async;"GET"===c&&""!==b&&(g+="?"+b);if(!0===f){var n={success:this.success,params:this.params,error:this.error,
request:this.request,parseResult:this.parseResult};this.request.onreadystatechange=function(){if(4===n.request.readyState){var b=200<=n.request.status&&400>n.request.status;b?n.success(n.parseResult(n.params,n.request),n.request.status):n.error(g,n.request.status);a.message.dispatch("a.ajax",{success:b,status:n.request.status,url:n.params.url,method:n.method,params:n.params})}}}this.request.open(c,g,f);var m=["Content-Type","Content-type","content-type"],s=!1,p;for(p in this.params.header)this.request.setRequestHeader(p,
this.params.header[p]),!s&&a.contains(m,p)&&(s=!0);s||"POST"!==c||this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.request.send(b);return!1===f?this.parseResult(this.params,this.request):"No return in async mode"};a.loader=function(){function c(b,c){if(a.isNone(b))return!1;for(var d=0,g=f.length;d<g;++d)if(f[d]===b)return a.isFunction(c)&&c(),!0;return!1}function b(b,c,d,l,n,w){for(var r in c)b.setAttribute(r,c[r]);!a.isNone(n)&&n.id&&b.setAttribute("id",n.id);var x=!1,e=function(c){x||(x=!0,a.isFunction(d)&&d(b),(a.isNone(n)||!1!==n.cache)&&f.push(l))};b.addEventListener?b.addEventListener("load",e,!1):b.readyState?b.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||e()}:
b.onload=e;if("text/css"===c.type){var q=document.styleSheets.length;g++;var k=a.timer.add(function(){document.styleSheets.length>q+g-1&&(g--,a.timer.remove(k),e())},null,50)}document.getElementsByTagName("head")[0].appendChild(b)}function d(b,c,d,g){var y={url:b,method:"GET",type:"raw",async:!0,cache:!0,data:{},header:{}};a.console.log("a.loader: load resource (url: "+b+")",3);a.isNone(d)||(a.contains(n,d.method)&&(y.method=d.method),a.isNone(d.type)||"json"!==d.type&&"xml"!==d.type||(y.type=d.type),
a.isObject(d.data)&&(y.data=d.data),a.isObject(d.header)&&(y.header=d.header),a.isBoolean(d.cache)&&(y.cache=d.cache));g=a.isFunction(g)?g:function(){};(new a.ajax(y,function(g,l){a.isFunction(c)&&c(g,l);(a.isNone(d)||!1!==d.cache)&&f.push(b)},g)).send()}var f=[],g=0,n="GET POST PUT DELETE HEAD OPTIONS".split(" ");return{js:function(b,d,f,g){c(b,d)||this.jsonp(b,d,f,g)},jsonp:function(c,d,f,g){var n=a.isObject(f)&&f.type?f.type:"text/javascript";a.console.log("a.loader: load resource (url: "+c+")",
3);b(document.createElement("script"),{type:n,src:c},d,c,f,g)},json:function(b,c,f,g){a.isObject(f)||(f={});f.type="json";a.isObject(f.header)||(f.header={});f.header.accept="application/json, text/javascript";d(b,c,f,g)},xml:function(b,c,f,g){a.isObject(f)||(f={});f.type="xml";a.isObject(f.header)||(f.header={});f.header.accept="application/xml, text/xml";d(b,c,f,g)},css:function(d,f,g,l){c(d,f)||(a.console.log("a.loader: load resource (url: "+d+")",3),b(document.createElement("link"),{rel:"stylesheet",
type:"text/css",href:d},f,d,g,l))},html:function(b,f,g,l){c(b,f)||(a.isObject(g)||(g={}),g.type="raw",!0===a.environment.get("debug")&&(g.cache=!1),a.isObject(g.header)||(g.header={}),g.header.accept="text/html",d(b,f,g,l))},javafx:function(b,d,f,g){if(a.isNone(f)||a.isNone(f.code)||a.isNone(f.id))a.console.warn("a.loader.javafx : the system need args.code and args.name setted to be able to load any javafx resource... This uri will not be loaded : "+b,3);else if(!c(b,d)){this.js("http://dl.javafx.com/"+
(f.version?f.version:"1.3")+"/dtfx.js",function(){javafx({archive:b,width:f.width||1,height:f.height||1,code:f.code,name:f.id})});var n=null,w=2E3,n=a.timer.add(function(){0<w--&&!a.isNone(document.getElementById(f.id).Packages)?(a.timer.remove(n),a.isFunction(d)&&d()):0>=w&&a.isFunction(g)&&g(b,408)},null,200)}},flash:function(b,d,f,g){a.isNone(f)||a.isNone(f.rootId)||a.isNone(f.id)?a.console.warn("a.loader.flash : the system need args parameters : rootId, id, setted to be able to load any flash resource... This uri will not be loaded : "+
b,3):c(b,d)||this.js(a.url+"vendor/storage/flash/swfobject.js",function(){swfobject.embedSWF(b,f.rootId,"100%","100%","10.0.0",a.url+"vendor/storage/flash/expressInstall.swf",f.flashvars,f.params,{id:f.id},function(c){!1===c.success&&a.isFunction(g)?g(b,408):!0===c.success&&a.isFunction(d)&&setTimeout(d,500)})})},silverlight:function(b,d,f,g){if(a.isNone(f)||a.isNone(f.rootId)||a.isNone(f.id))a.console.warn("a.loader.silverlight : the system need args parameters : rootId, id, setted to be able to load any silverlight resource... This uri will not be loaded : "+
b,3);else if(!c(b,d)){a.console.log("a.loader: load resource (url: "+b+")",3);var n=document.createElement("object");n.id=f.id;n.data="data:application/x-silverlight-2,";n.type="application/x-silverlight-2";a.isArray(f.params)||(f.params=[]);f.params.push({name:"source",value:b});for(var w=0,r=f.params.length;w<r;++w){var x=document.createElement("param");x.name=f.params[w].name;x.value=f.params[w].value;n.appendChild(x)}document.getElementById(f.rootId).appendChild(n);var e=null,q=2E3,e=a.timer.add(function(){0<
q--&&!a.isNone(document.getElementById(f.id).Content)?(a.timer.remove(e),d()):0>=q&&a.isFunction(g)&&g(b,408)},null,200)}},trace:function(){return f}}}();a.keyboard=function(c){return a.isNone(c)?(a.console.error("a.keyboard.global: error, Mousetrap is undefined, the plugin a.keyboard will not work",1),{addListener:function(){},removeListener:function(){},reset:function(){},clear:function(){}}):{addListener:function(b,d){a.console.log("a.keyboard.addListener: bind key: "+b,3);c.bind(b,d)},removeListener:function(b){a.console.log("a.keyboard.removeLister: remove listener on key: "+b,3);c.unbind(b)},reset:function(){a.console.log("a.keyboard.reset: clear all keys",
3);c.reset()},clear:function(){a.console.log("a.keyboard.clear: clear all keys",3);c.reset()}}}(window.Mousetrap);a.callback={};
a.callback.synchronizer=function(){function c(){s--;0>=s&&!1===w?(y=!1,x.prototype.dispatch("a.callback.synchronizer.success",{}),p(r)):0>=s&&(y=w=!1)}function b(){!0===y&&(w=!0,y=!1,x.prototype.dispatch("a.callback.synchronizer.error",{}),l.apply(this,arguments))}function d(b,c){r[b]=c}function f(b){a.isObject(b)&&(r=b)}function g(b){return a.isNone(r[b])?null:r[b]}function n(){return r}var m=[],s=0,p=function(){return!0},l=function(){return!0},y=!1,w=!1,r={},x=function(){};x.prototype=new a.eventEmitter;
x.prototype.constructor=this;x.prototype.setSuccess=function(b){p=a.isFunction(b)?b:p};x.prototype.setDone=x.prototype.setSuccess;x.prototype.setFail=function(b){l=a.isFunction(b)?b:l};x.prototype.setError=x.prototype.setFail;x.prototype.addCallback=function(){for(var e=[],e=!a.isNone(arguments[0])&&a.isArray(arguments[0])?arguments[0]:arguments,k=0,t=e.length;k<t;++k){var l=e[k];a.isFunction(l)&&(s++,m.push(l),!0===y&&l({success:c,done:c,getData:g,getFullData:n,setData:d,setFullData:f,fail:b,error:b}))}!0===
y&&a.console.warn("a.callback.synchronizer.addCallback : you should not add/remove callback when synchronizer is running",1)};x.prototype.removeCallback=function(b){for(var c=m.length-1;0<=c;--c)m[c]===b&&(!0===y&&a.console.warn("a.callback.synchronizer.removeCallback : you should not add/remove callback when synchronizer is running",1),s--,m.splice(c,1))};x.prototype.start=function(e,k){if(0>=s)c();else{y=!0;r={};for(var t=0,l=m.length;t<l;++t)m[t]({success:c,done:c,getData:g,getFullData:n,setData:d,
setFullData:f,fail:b,error:b},k);a.isNumber(e)&&0<e?setTimeout(function(){var c=parseInt(e,10);x.prototype.dispatch("a.callback.synchronizer.error",{timeout:c});b({timeout:c})},e):x.prototype.dispatch("a.callback.synchronizer.start",{timeout:-1})}};x.prototype.isRunning=function(){return y};var e=new x;e.setName("a.callback.synchronizer");return e};
a.callback.chainer=function(){function c(){0==l.length?(l=[],s(y),w.prototype.dispatch("a.callback.chainer.success",{})):w.prototype.start(arguments)}function b(){l=[];p.apply(this,arguments);w.prototype.dispatch("a.callback.chainer.error",{})}function d(b,c){y[b]=c}function f(b){a.isObject(b)&&(y=b)}function g(b){return a.isNone(y[b])?null:y[b]}function n(){return y}var m=[],s=function(){return!0},p=function(){return!0},l=[],y={},w=function(){};w.prototype=new a.eventEmitter;w.prototype.constructor=
this;w.prototype.setSuccess=function(b){s=a.isFunction(b)?b:s};w.prototype.setDone=w.prototype.setSuccess;w.prototype.setFail=function(b){p=a.isFunction(b)?b:p};w.prototype.setError=w.prototype.setFail;w.prototype.addCallback=function(){for(var b=[],b=!a.isNone(arguments[0])&&a.isArray(arguments[0])?arguments[0]:arguments,c=0,d=b.length;c<d;++c){var f=b[c];a.isFunction(f)&&(m.push(f),!0===w.prototype.isRunning()&&l.push(f))}!0===w.prototype.isRunning()&&a.console.warn("a.synchronizer.addCallback : you should not add/remove callback when synchronizer is running",
1)};w.prototype.removeCallback=function(b){for(var c=m.length-1;0<=c;--c)if(m[c]===b){if(!0===w.prototype.isRunning()){for(var d=l.length-1;0<=d;--d)l[d]===b&&l.splice(d,1);a.console.warn("a.synchronizer.removeCallback : you should not add/remove callback when synchronizer is running",1)}m.splice(c,1)}};w.prototype.start=function(){if(0==l.length){for(var r=0,e=m.length;r<e;++r)l.push(m[r]);w.prototype.dispatch("a.callback.chainer.start",{});y={};0==l.length&&c()}r=l.shift();a.isFunction(r)&&r({success:c,
done:c,getData:g,getFullData:n,setData:d,setFullData:f,fail:b,error:b},arguments)};w.prototype.isRunning=function(){return 0==l.length?!1:!0};var r=new w;r.setName("a.callback.chainer");return r};a.storage={__printGetItem:function(c,b,d){"__test_support"!==b&&a.console.log("a.storage.type."+c+".getItem: get element (key: "+b+", value: "+d+")",3)},__printGetErrorItem:function(c,b){"__test_support"!==b&&a.console.log("a.storage.type."+c+".getItem: unable to find key ("+b+") in store",2)},__printSetItem:function(c,b,d){"__test_support"!==b&&a.console.log("a.storage.type."+c+".setItem: add element (key: "+b+", value: "+d+")",3)},__printRemoveItem:function(c,b){"__test_support"!==b&&a.console.log("a.storage.type."+
c+".removeItem: remove element (key: "+b+")",3)},type:{}};
a.storage.type.cookie=function(){var c=!1,b={support:!1,engine:"cookie",setItem:function(b,c,g){var n="";a.storage.__printSetItem("cookie",b,c);g&&(n=new Date,n.setTime(n.getTime()+864E5*g),n="; expires="+n.toGMTString());document.cookie=b+"="+escape(a.parser.json.stringify(c))+n+"; path=/"},getItem:function(b){if(0<document.cookie.length){var c=document.cookie.indexOf(b+"=");if(-1!=c){var c=c+b.length+1,g=document.cookie.indexOf(";",c);-1==g&&(g=document.cookie.length);c=a.parser.json.parse(unescape(document.cookie.substring(c,
g)));a.storage.__printGetItem("cookie",b,c);return c}}a.storage.__printGetErrorItem("cookie",b);return null},removeItem:function(b){a.storage.__printRemoveItem("cookie",b);this.setItem(b,"",-1);c&&a.message.dispatch("a.storage.remove",{key:b})}};b.setItem("__test_support","ok");"ok"===b.getItem("__test_support")&&(b.removeItem("__test_support"),b.support=!0);c=!0;return b}();a.storage.cookie=a.storage.type.cookie;
a.storage.type.localStorage=function(){var c=!1;"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("__test_support","o"),"o"===window.localStorage.getItem("__test_support")&&(window.localStorage.removeItem("__test_support"),c=!0));return{support:c,engine:"localStorage",getItem:function(b){if(c){var d=window.localStorage.getItem(b);if(a.isNone(d))return a.storage.__printGetErrorItem("localStorage",b),null;d=a.parser.json.parse(d);a.storage.__printGetItem("localStorage",
b,d);return d}return null},setItem:function(b,d){c&&(a.storage.__printSetItem("localStorage",b,d),window.localStorage.setItem(b,a.parser.json.stringify(d)),a.message.dispatch("a.storage.add",{key:b,value:d}))},removeItem:function(b){c&&(a.storage.__printRemoveItem("localStorage",b),window.localStorage.removeItem(b),a.message.dispatch("a.storage.remove",{key:b}))}}}();
a.storage.type.globalStorage=function(){var c=!1,b=window.location.hostname;a.isNone(window.globalStorage)||(window.globalStorage[b].setItem("__test_support","ok"),"ok"==window.globalStorage[b].getItem("__test_support")&&(window.globalStorage[b].removeItem("__test_support"),c=!0));return{support:c,engine:"globalStorage",getItem:function(d){if(c){var f=window.globalStorage[b].getItem(d);if(a.isObject(f)&&!a.isNone(f.value))return f=a.parser.json.parse(f.value),a.storage.__printGetItem("globalStorage",
d,f),f;if(a.isNone(f))a.storage.__printGetErrorItem("globalStorage",d);else return f=a.parser.json.parse(f),a.storage.__printGetItem("globalStorage",d,f),f}return null},setItem:function(d,f){c&&(a.storage.__printSetItem("globalStorage",d,f),window.globalStorage[b].setItem(d,a.parser.json.stringify(f)),a.message.dispatch("a.storage.add",{key:d,value:f}))},removeItem:function(d){c&&(a.storage.__printRemoveItem("globalStorage",d),window.globalStorage[b].removeItem(d),a.message.dispatch("a.storage.remove",
{key:d}))}}}();
a.storage.type.memory=function(){var c={};return{support:!0,engine:"memory",getItem:function(b){var d=c[b];if(!a.isNone(d))return a.storage.__printGetItem("memory",b,d),a.console.log("a.storage.memory.getItem: found item (key: "+b+", value: "+d+")",3),d;a.storage.__printGetErrorItem("memory",b);return null},setItem:function(b,d){c[b]=d;a.storage.__printSetItem("memory",b,d);a.message.dispatch("a.storage.add",{key:b,value:d})},removeItem:function(b){a.storage.__printRemoveItem("memory",b);a.isNone(c[b])||
(delete c[b],a.message.dispatch("a.storage.remove",{key:b}))}}}();a.storage.memory=a.storage.type.memory;
a.storage.type.sessionStorage=function(){var c=!1;"sessionStorage"in window&&!a.isNone(window.sessionStorage)&&(window.sessionStorage.setItem("__test_support","o"),"o"===window.sessionStorage.getItem("__test_support")&&(window.sessionStorage.removeItem("__test_support"),c=!0));return{support:c,engine:"sessionStorage",getItem:function(b){if(c){var d=window.sessionStorage.getItem(b);if(a.isNone(d))return a.storage.__printGetErrorItem("sessionStorage",b),null;d=a.parser.json.parse(d);a.storage.__printGetItem("sessionStorage",
b,d);return d}return null},setItem:function(b,d){c&&(a.storage.__printSetItem("sessionStorage",b,d),window.sessionStorage.setItem(b,a.parser.json.stringify(d)),a.message.dispatch("a.storage.add",{key:b,value:d}))},removeItem:function(b){c&&(a.storage.__printRemoveItem("sessionStorage",b),window.sessionStorage.removeItem(b),a.message.dispatch("a.storage.remove",{key:b}))}}}();
a.storage.type.userData=function(){var c=!1;if(document.all)try{document.write('<input type="hidden" id="a_storage" style="display:none;behavior:url(\'#default#userData\')" />');var b=document.getElementById("a_storage");b.load("aUserDataStorage");b.setAttribute("__test_support","ok");b.save("aUserDataStorage");"ok"===b.getAttribute("__test_support")&&(b.removeAttribute("__test_support"),b.save("aUserDataStorage"),c=!0)}catch(d){c=!1}return{support:c,engine:"userData",getItem:function(d){if(c){var g=
a.parser.json.parse(b.getAttribute(d));if(a.isNone(g))return a.storage.__printGetErrorItem("userData",d),null;a.storage.__printGetItem("userData",d,g);return g}return null},setItem:function(d,g){c&&(a.storage.__printSetItem("userData",d,g),b.setAttribute(d,a.parser.json.stringify(g)),b.save("aUserDataStorage"),a.message.dispatch("a.storage.add",{key:d,value:g}))},removeItem:function(d){c&&(a.storage.__printRemoveItem("userData",d),b.removeAttribute(d),b.save("aUserDataStorage"),a.message.dispatch("a.storage.remove",
{key:d}))}}}();
a.storage.type.flash=function(){function c(c){if(!1===b&&!1===d){var n=document.createElement("div");n.id="flashstoragecontent";document.body.appendChild(n);var m={id:f,rootId:n.id,flashvars:{},params:{wmode:"transparent",menu:"false",scale:"noScale",allowFullscreen:"true",allowScriptAccess:"always"}};a.loader.flash(a.url+"vendor/storage/flash/localStorage.swf",function(f){d=!0;f=document.getElementById(m.id);!0===f.testData()&&(b=!0,f.setDatabase("a_flashStorage"));!0===b&&a.isFunction(c)&&c(b)},
m)}else!0===b&&a.isFunction(c)&&c(b)}var b=!1,d=!1,f="flashstorage";return{support:function(){return b},ready:function(){return d},engine:"flash",start:function(b){c(b)},getItem:function(c){this.start();if(!0===b){var d=document.getElementById(f).getData(c);if(a.isNone(d))return a.storage.__printGetErrorItem("flash",c),null;a.storage.__printGetItem("flash",c,d);return d}return null},setItem:function(c,d){this.start();!0===b&&(a.storage.__printSetItem("flash",c,d),document.getElementById(f).setData(c,
d))},removeItem:function(c){this.start();if(!0===b)return a.storage.__printRemoveItem("flash",c),document.getElementById(f).removeData(c)}}}();
a.storage.type.silverlight=function(){function c(c){if(!1===b&&!1===d){var n=document.createElement("div");n.id="__silverlightstorage";document.body.appendChild(n);var m={id:f,rootId:n.id,params:[{name:"minRuntimeVersion",value:"2.0.31005.0"},{name:"autoUpgrade",value:"true"}]};a.loader.silverlight(a.url+"vendor/storage/silverlight/silverlightStorage.xap",function(f){d=!0;!0===document.getElementById(m.id).Content.store.testData()&&(b=!0);!0===b&&a.isFunction(c)&&c(b)},m)}else!0===b&&a.isFunction(c)&&
c(b)}var b=!1,d=!1,f="silverlightstorage";return{support:function(){return b},ready:function(){return d},engine:"silverlight",start:function(b){c(b)},getItem:function(c){this.start();if(!0===b){var d=document.getElementById(f).Content.store.loadData(c);if(a.isNone(d)||"false"===d)return a.storage.__printGetErrorItem("silverlight",c),null;d=a.parser.json.parse(d);a.storage.__printGetItem("silverlight",c,d);return d}return null},setItem:function(c,d){this.start();!0===b&&(a.storage.__printSetItem("silverlight",
c,d),document.getElementById(f).Content.store.saveData(c,a.parser.json.stringify(d)))},removeItem:function(c){this.start();!0===b&&(a.storage.__printRemoveItem("silverlight",c),document.getElementById(f).Content.store.removeData(c))}}}();
a.storage.type.javafx=function(){function c(c){!1===b&&!1===d?a.loader.javafx(a.url+"vendor/storage/javafx/JavaFXStorage.jar",function(){d=!0;!0===document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.testData()&&(b=!0,el.setDatabase("a_javafxStorage"));!0===b&&a.isFunction(c)&&c(b)},{code:"javafxstorage.Main",id:"javafxstorage"}):!0===b&&a.isFunction(c)&&c(b)}var b=!1,d=!1;return{support:function(){return b},ready:function(){return d},engine:"javafx",start:function(b){c(b)},
getItem:function(c){this.start();if(!0===b){var d=document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.loadData(c);if(a.isNone(d)||"false"===d)return a.storage.__printGetErrorItem("javafx",c),null;d=a.parser.json.parse(d);a.storage.__printGetItem("javafx",c,d);return d}return null},setItem:function(c,d){this.start();!0===b&&(a.storage.__printSetItem("javafx",c,d),document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.saveData(c,a.parser.json.stringify(d)))},
removeItem:function(c){this.start();!0===b&&(a.storage.__printRemoveItem("javafx",c),document.getElementById("javafxstorage").Packages.javafxstorage.localStorage.removeData(c))}}}();a.storage.temporary=function(){for(var c=["sessionStorage","cookie","memory"],b=0,d=c.length;b<d;++b){var f=c[b];if(a.storage.type[f].support)return a.console.log("a.storage.temporary: choosing storage "+a.storage.type[f].engine,3),a.message.dispatch("a.storage.temporary.change",{engine:f}),a.storage.type[f]}return null}();
a.storage.external=function(){function c(b,c){a.storage.external.ready=b.ready;a.storage.external.support=b.support;a.storage.external.engine=b.engine;a.storage.external.getItem=b.getItem;a.storage.external.setItem=b.setItem;a.storage.external.removeItem=b.removeItem;a.isFunction(c)&&c()}return{start:function(b){var d=a.storage.type.silverlight,f=a.storage.type.flash,g=a.storage.type.javafx;d.start(function(n){n?(a.console.log("a.storage.external: choosing storage silverlight",3),c(d,b)):f.start(function(d){d?
(a.console.log("a.storage.external: choosing storage flash",3),c(f,b)):g.start(function(d){d?(a.console.log("a.storage.external: choosing storage javafx",3),c(g,b)):a.console.warn("a.storage.external: choosing storage NONE AVAILABLE",3)})})})}}}();
a.storage.persistent=function(){for(var c=["localStorage","globalStorage","userData","cookie"],b=0,d=c.length;b<d;++b){var f=c[b];if(a.storage.type[f].support)return a.console.log("a.storage.persistent: choosing storage "+a.storage.type[f].engine,3),a.message.dispatch("a.storage.persistent.change",{engine:f}),a.storage.type[f]}return null}();
null==a.storage.persistent&&(a.storage.persistent={},a.storage.persistent.support=!1,a.storage.persistent.engine=function(){return"none"},a.storage.persistent.getItem=function(){return null},a.storage.persistent.setItem=function(){},a.storage.persistent.removeItem=function(){});a.storage.support=a.storage.persistent.support;a.storage.engine=a.storage.persistent.engine;a.storage.getItem=a.storage.persistent.getItem;a.storage.setItem=a.storage.persistent.setItem;a.storage.removeItem=a.storage.persistent.removeItem;a.language=function(){function c(b,c){if(a.isNone(s[b]))return null;var d=s[b][c];if(a.isNone(d))a.console.info("a.language.__getRawTranslate: unable to find hash in dictionnary (value: "+c+", language: "+b+")",3);else return d;return null}function b(b){b=""+b;0>b.indexOf("{{")&&(b="{{"+b+"}}");b=b.replace("{{","\\{\\{");return b=b.replace("}}","\\}\\}")}function d(d,e){var f=c(n,d);if(!a.isNone(f)){var g=f;if(a.isArray(e))for(var l=0,u=e.length;l<u;++l)var h=b(l+1),h=RegExp(h,"gi"),g=g.replace(h,
e[l]);else for(l in e)h=b(l),h=RegExp(h,"gi"),g=g.replace(h,e[l]);if(0<=g.indexOf("{{")&&0<=g.indexOf("}}"))for(f=f.match(/\{\{[a-z0-9\-_]+\}\}/gi)||[],l=0,u=f.length;l<u;++l){var h=b(f[l]),m=f[l].replace("{{","").replace("}}",""),m=a.isNone(w[m])?null:w[m];a.isNone(m)||(h=RegExp(h,"gi"),g=g.replace(h,m))}return g=g.replace(/\{\{[a-z\-_0-9]+\}\}/gi,"")}return d}function f(b,c){a.isString(c)||(c=l);try{return b.getAttribute(c)}catch(d){return null}}function g(b){a.isNone(b)&&(b=document);var e=[];
a.isNone(f(b))||e.push(b);var g=[];b.querySelectorAll?(g=b.querySelectorAll("*["+l+"]"),0===g.length&&(g=b.querySelectorAll("*"))):g=b.getElementsByTagName("*");b=0;for(var m=g.length;b<m;++b)a.isNone(f(g[b]))||e.push(g[b]);g=0;for(b=e.length;g<b;++g){var v=e[g],m=f(v);if(!a.isNone(m)){var u=c(n,m),h={};a.isNone(u)&&(u=m);for(var u=u.match(/\{\{[a-z0-9\-_]+\}\}/gi)||[],r=0,s=u.length;r<s;++r){var x=u[r].replace("{{","").replace("}}",""),z=f(v,l+"-"+x);a.isNone(z)?(z="undefined"===w[x]?null:w[x],a.isNone(z)||
(h[x]=z)):h[x]=z}u=d(m,h);m=f(v,y);if(!a.isNone(m))try{v[m]=u}catch(E){}else if(v)if("INPUT"!==v.nodeName||"submit"!==v.type&&"reset"!==v.type)if("INPUT"===v.nodeName)try{v.placeholder=u}catch(J){}else if("FIELDSET"===v.nodeName)v.title=u;else if(!a.isNone(v.text)&&document.all)v.text=u;else if(a.isNone(v.childNodes))v.innerHTML=u;else if(m=v.childNodes.length,h=document.createTextNode(u),"leave"===p){for(u=!1;m--;)r=v.childNodes[m],3===r.nodeType&&(u||(v.insertBefore(h,r),u=!0),v.removeChild(r));
u||v.appendChild(h)}else{for(;m--;)v.removeChild(v.firstChild);v.appendChild(h)}else v.value=u}}}var n="en",m=["en","fr","de","sp"],s={},p="leave",l="data-tr",y="data-tr-attr",w={},r=!a.isNone(a.storage)&&!0===a.storage.persistent.support;if(r){var x=a.storage.persistent.getItem("a_language_store_language"),e=a.storage.persistent.getItem("a_language_store_allowed");a.isString(x)&&(n=x,g(document));a.isArray(e)&&(m=e)}return{setBehavior:function(b){p="erase"===b?"erase":"leave"},getBehavior:function(){return p},
getCurrent:function(){return n},setCurrent:function(b,c){!a.isString(b)||0>=b.length?a.console.error("a.language.setCurrent: setting a non-string lang, or empty string, as default language: "+b,1):(a.isNone(c)&&(c=!0),a.contains(m,b)||a.console.warn("a.language.setCurrent: unable to find language in available language list (value: "+b+", available: "+m.join(";")+")",2),n=b,a.isNone(s[n])&&(s[n]={}),a.console.log("a.language.setCurrent: set current language to "+n+", request update ? "+c,3),a.message.dispatch("a.language.change",
{value:n}),r&&a.storage.persistent.setItem("a_language_store_language",n),this.translate(document,c))},getAllowed:function(){return m},setAllowed:function(b){a.isString(b)&&(b=[b]);if(a.isArray(b)){m=b;var c=0;for(b=b.length;c<b;++c)a.isNone(s[c])&&(s[c]={});r&&(a.console.log("a.language.setAllowed: set allowed language to "+m,3),a.storage.persistent.setItem("a_language_store_allowed",m))}else a.console.error("a.language.setAllowed: the allowed language must be an Array (value: "+b+")",1)},getSingleTranslation:function(b,
c){return d(b,c)},addSingleTranslation:function(b,c,d,e){a.isNone(s[b])&&(a.console.warn("a.language.addSingleTranslation: be carefull, the language you submit does not seems to exist in dict (value: "+b+", dict: "+m.join(";")+")",1),s[b]={});s[b][c]=d;this.translate(document,e)},addTranslation:function(b,c,d){a.isNone(s[b])&&(s[b]={});for(var e in c)s[b][e]=c[e];this.translate(document,d)},getTranslation:function(b){return a.isString(b)?s[b]:s},translate:function(b,c){!1!==c&&g(b)},addVariable:function(b,
c){a.console.log("a.language.addVariable: add global variable (key: "+b+", value: "+c+")",3);w[b]=c},getVariable:function(b){return"undefined"===w[b]?null:w[b]},removeVariable:function(b){a.console.log("a.language.removeVariable: remove global variable (key: "+b+")",3);delete w[b]},clear:function(){s={}}}}();a.form=function(){function c(b,c){return a.isNone(b.getAttribute)?null:b.getAttribute(c)}function b(b){for(var c=[],d=b.length;d--;)c.push(b[d]);return c}function d(b){var d=c(b,"name");if(a.isNone(d)||""===d)if(d=c(b,"id"),a.isNone(d)||""===d)d=c(b,"class");return d}function f(d){var f=d.getElementsByTagName("input"),g=d.getElementsByTagName("textarea");d=d.getElementsByTagName("select");for(var f=b(f),n=f.length;n--;){var m=c(f[n],"type");a.contains(p,m)||a.isNone(m)||f.splice(n,1)}return f.concat(b(g),
b(d))}function g(b,d,f,g){var n="";a.isNone(f)||""===f||(n=c(b,"data-error-"+f));if(a.isNone(n)||""===n)n=c(b,"data-error");(a.isNone(n)||""===n)&&a.console.warn("A data-error tag has not been setted for "+d+" with value "+g+", can't proceed error show",3);a.isNone(a.language)||(n=a.language.getSingleTranslation(n,{name:f,value:g}));return{el:b,id:d,error:n}}var n="text search url tel email password".split(" "),m="number range date datetime datetime-local month time week".split(" "),s=n.concat(m,
["number","checkbox","radio","file"]),p=m.concat(n,["color","checkbox","file","hidden","radio"]);return{skipNoValidate:!1,get:function(b){b=f(b);for(var g={},n=b.length;n--;){var m=b[n],p=d(m),e;e=m;var q=c(e,"type"),k=e.tagName.toLowerCase();e="input"===k||"textarea"===k?"checkbox"===q?e.checked:e.value:"select"===k?e.options[e.selectedIndex].value:void 0;null!==p&&""!==p&&(a.isNone(m)||"radio"!==c(m,"type")?g[p]=""===e?null:e:m.checked&&(g[p]=""===e?null:e))}a.console.log("a.form.get: found element list:",
3);a.console.log(g,3);return g},validate:function(b){if(!a.isNone(c(b,"novalidate"))&&!1===this.skipNoValidate)return[];b=f(b);for(var p=[],w="number range text search url email password color checkbox hidden radio".split(" "),r=RegExp("^[a-z]{2,}:\\/\\/([a-z0-9\\/\\.\\-_~+;:&=]{2,})$","gi"),x=RegExp("^.{2,}@.*\\.[a-z0-9]{2,}$","gi"),e=RegExp("^#([a-f]{3}|[a-f]{6})$","gi"),q=b.length;q--;){var k=b[q],t=k.tagName.toLowerCase();if("select"!==t&&a.isNone(c(k,"formnovalidate"))){var B=c(k,"type"),v=d(k),
u=k.value,h=c(k,"required"),A=c(k,"pattern");c(k,"multiple");var D=c(k,"min"),C=c(k,"max"),z=c(k,"step"),D=a.isNone(D)||""===D?null:parseFloat(D),C=a.isNone(C)||""===C?null:parseFloat(C),z=a.isNone(z)||""===z?null:parseFloat(z);"input"!==t||a.contains(w,B)||a.isNone(B)?"number"!==B&&"range"!==B||a.isNumber(u)?"url"!==B||r.test(u)?"email"!==B||x.test(u)?"color"!==B||e.test(u)?null!==h&&a.contains(s,B)&&(""===u||a.isNone(u))?p.push(g(k,v,"required",u)):null===A||"textarea"!==t&&!a.contains(n,B)&&!a.isNone(B)||
RegExp(A).test(u)?null===D&&null==C&&null==z||!a.contains(m,B)||(t=parseFloat(u),null!==D&&t<D?p.push(g(k,v,"min",u)):null!==C&&t>C?p.push(g(k,v,"max",u)):null!==z&&0!==t%z&&p.push(g(k,v,"step",u))):p.push(g(k,v,"pattern",u)):p.push(g(k,v,null,u)):p.push(g(k,v,null,u)):p.push(g(k,v,null,u)):p.push(g(k,v,null,u)):a.console.warn("Type "+B+" for input "+v+" not recognized or not supported",3)}}a.console.log("a.form.validate: found error list:",3);a.console.log(p,3);return p},validateAndGet:function(b){b=
{errorList:this.validate(b),error:!1,contentList:this.get(b)};0<b.errorList.length&&(b.error=!0);return b}}}();a.state=function(){function c(b){return a.isArray(b)?b.reverse():a.isString(b)?[b]:[]}function b(){for(var b=e;e===b||0>=e;)e=Math.floor(1E5*Math.random());return e}function d(b,c){var d=[],e=b.length;c=a.isFunction(c)?c:function(){return!0};for(var f=0;f<e;++f){for(var h=!1,g=0;g<e;++g)if(f!=g&&b[f].id===b[g].id&&c(b[f])){h=!0;break}h||d.push(b[f].id)}return d}function f(b){for(var c=0,d=[],e=a.state.helper.tree.selectLevel(b,p,c);0<e.length;)d.push(e),c++,e=a.state.helper.tree.selectLevel(b,p,c);
return d}function g(b){b=n(b);for(var c=x.length,d=[];c--;){for(var e=x[c].hashtagList,f=e.length,h=!1;f--&&(h=b({hash:e[f]}),!0!==h););h||(d=d.concat(x[c].itemList.slice()),x.splice(c,1))}return d}function n(b){return function(c){if(a.isObject(c)&&0<c.hash.length){if(c.hash===b)return!0;if(0<=c.hash.indexOf("{{")&&0<=c.hash.indexOf("}}")){var d=a.state.helper.parameter.extract(c.hash);c=c.hash;for(var e=d.length;e--;)c=a.state.helper.parameter.replace(c,d[e]);return RegExp("^"+c+"$","gi").test(b)}}return!1}}
function m(b){return function(c){return a.isObject(c)&&(a.isArray(b)&&a.contains(b,c.id)||c.id===b)?!0:!1}}function s(b,c){var d=m(c),e=n(b);return function(b){return!0===d(b)||!0===e(b)?!0:!1}}function p(b){return a.isObject(b)&&a.isArray(b.children)?b.children:[]}function l(b){return a.isObject(b)?b.id:-1}function y(b){return a.isObject(b)&&a.isObject(b.error)?b.error:null}function w(c){var e=a.deepClone(r),m=a.deepClone(r),v=a.deepClone(r),u=g(c.value),h=n(c.old),u=s(c.old,u),q=n(c.value);a.state.helper.tree.selectBranch(e,
p,u);a.state.helper.tree.selectBranch(m,p,q);a.state.helper.tree.selectBranch(v,p,n("*"));var u=a.state.helper.tree.flat(e.concat(m),p),w=d(u,function(b){return 0<=b.hash.indexOf("{{")&&0<=b.hash.indexOf("}}")&&!a.state.helper.tree.isInBranch(b,p,q)&&!a.state.helper.tree.isInBranch(b,p,h)?!1:!0}),x=a.state.helper.tree.flat(v,p,l),e=f(e),y=f(m);a.message.dispatch("a.state.begin",c);a.console.log("a.state: element allowed to proceed change: "+w+" (does not mean all of them will be loaded)",3);var E=
b();a.state.helper.chainer("unload",e,w,-1,function(){a.state.helper.chainer("load",y,w,E,function(){0<v.length?(v=[v],a.console.log("a.state: wildcard allowed to proceed change: "+x+" (does not mean all of them will be loaded)",3),a.state.helper.chainer("unload",v,x,-1,function(){a.state.helper.chainer("load",v,x,-1,function(){a.message.dispatch("a.state.end",c)})})):a.message.dispatch("a.state.end",c)})})}var r=[],x=[],e=-1,q=[];a.message.addListener("a.page.event.hash",w);a.message.addListener("a.message.clear",
function(){a.message.addListener("a.page.event.hash",w)});return{clear:function(){r=[]},tree:function(){return a.deepClone(r)},add:function(b,d){if(!a.isObject(b))return null;if(a.isArray(b))for(var e=0,f=b.length;e<f;++e)this.add(b[e]);else{b.hash=a.isString(b.hash)?b.hash:"";a.isObject(b.include)||(b.include={});b.include.css=c(b.include.css);b.include.js=c(b.include.js);b.include.translate=c(b.include.translate);b.include.html=a.isString(b.include.html)?b.include.html:null;for(var g=["preLoad",
"postLoad","preUnload","unload","postUnload"],h=0,e=g.length;h<e;++h)f=b[g[h]],a.isFunction(f)&&(f=f.toString(),f=f.slice(f.indexOf("(")+1,f.indexOf(")")).match(/([^\s,]+)/g),a.isNone(f)&&a.console.warn("The result parameter for function '"+g[h]+"' in id '"+b.id+"' has not been found, the state may not work properly",2));!a.isArray(b.children)&&a.isObject(b.children)&&(b.children=[a.deepClone(b.children)]);h=!a.isNone(b.parent);e=a.isArray(b.children);"*"===b.hash&&(h&&a.console.warn("a.state.add : The wildcard has a parent setted (not allowed)",
1),e&&a.console.warn("a.state.add : The wildcard has children (not allowed)",1),b.parent=null,h=!1,b.children=[]);g=[];e&&(g=b.children.slice());b.children=[];a.isNone(b.id)&&(b.id=1);for(;!a.isNone(a.state.helper.tree.getItem(r,p,m(b.id)));)b.id=Math.floor(1E5*Math.random()+1);if(h){h=a.state.helper.tree.getItem(r,p,m(b.parent));if(a.isNone(h))return null;h.children.push(b)}else r.push(b);h=b.id;e=0;for(f=g.length;e<f;++e)a.isObject(g[e])&&(g[e].parent=h,this.add(g[e]));"*"===b.hash&&a.state.helper.chainer("load",
[[b]],[h],-1,function(){});!0===b.bootOnLoad&&(g=a.deepClone(b),g.data=g.converter=g.options=null,g.preLoad=g.load=g.postLoad=null,g.preUnload=g.unload=g.postUnload=null,d=a.isFunction(d)?d:function(){},a.state.helper.chainer("load",[[g]],[h],-1,d));return h}},getById:function(b){return a.state.helper.tree.getItem(r,p,m(b))},removeById:function(b){var c=a.state.helper.tree.getItem(r,p,m(b));a.console.log("a.state.removeById: remove element (id: "+b+")",3);a.state.helper.tree.selectBranch(r,p,function(b){return b===
c?!1:!0})},loadById:function(b,e,g){var v=a.deepClone(r),u=a.page.event.hash.getHash(),h=a.deepClone(r);a.state.helper.tree.selectBranch(v,p,m(b));a.state.helper.tree.selectBranch(h,p,n(u));var q=a.state.helper.tree.flat(v,p),h=a.state.helper.tree.flat(h,p),h=d(h.concat(q)),v=f(v);g=a.isFunction(g)?g:function(){};a.console.log("a.state.loadById: element allowed to proceed change: "+h+" (does not mean all of them will be loaded)",3);a.state.helper.chainer("load",v,h,-1,g);a.isNone(e)&&(e=u);b={id:b,
itemList:a.state.helper.tree.flat(q,p,l),hashtagList:c(e)};x.push(b)},unloadById:function(b,c){for(var d=this.getById(b),d=f([d]),e=[],g=x.length;g--;)e=e.concat(x[g].itemList);a.console.log("a.state.unloadById: element allowed to proceed change: "+e+" (does not mean all of them will be unloaded)",3);g=a.isFunction(c)?c:function(){};a.state.helper.chainer("unload",d,e,-1,g)},forceReloadById:function(c,d){for(var e=a.isFunction(d)?d:function(){},g=x.length,m=[],h=a.deepClone(x);g--;)a.contains(x[g].itemList,
c)&&m.push(x[g].hashtagList);if(0<m.length)this.unloadById(c,function(){for(var b=m.length;b--;)a.state.loadById(c,m[b]);x=h;e()});else{var g=a.deepClone(r),q=a.page.event.hash.getHash();a.state.helper.tree.selectBranch(g,p,n(q));for(var q=a.state.helper.tree.flat(g,p),s=q.length;s--;)if(q[s].id===c){var w=f([q[s]]),y=a.state.helper.tree.flat(g,p,l);a.console.log("a.state.forceReloadById: element allowed to proceed change: "+y+" (does not mean all of them will be loaded/unloaded)",3);var E=b();a.state.helper.chainer("unload",
w,y,-1,function(){a.state.helper.chainer("load",w,y,E,e)});break}}},hashExists:function(b){return a.isString(b)&&""!==b?a.state.helper.tree.isInBranch(r,p,n(b)):!1},__currentGeneratedId:function(){return e},__getError:function(b,c){var d=b.id;c="_"+c;var e=a.deepClone(r);a.state.helper.tree.selectBranch(e,p,m(d));for(var d=a.state.helper.tree.flat(e,p,y),e=[c,c.substring(0,c.length-1)+"x",c.substring(0,c.length-2)+"xx","generic","_generic"],f=0,h=e.length;f<h;++f){var g;a:{g=e[f];for(var l=d.length;l--;){var n=
d[l];if(!a.isNone(n))for(var q in n)if(q==g){g=n[q];break a}}g=null}if(!a.isNone(g))return g}return null},type:{add:function(b,c){q[b]=c},get:function(b){return a.isFunction(q[b])?q[b]:null},list:function(){return q}},helper:{tree:{},chainer:{},parameter:{}}}}();
a.state.helper.tree={flat:function(c,b,d){var f=[];if(!a.isArray(c)||!a.isFunction(b))return[];d=a.isFunction(d)?d:function(b){return b};for(var g=0,n=c.length;g<n;++g){var m=this.flat(b(c[g]),b,d);f.push(d(c[g]));0<m.length&&(f=f.concat(m))}return f},getItem:function(c,b,d){if(!a.isArray(c)||!a.isFunction(d)||!a.isFunction(b))return null;for(var f=0,g=c.length;f<g;++f){if(!0===d(c[f]))return c[f];var n=this.getItem(b(c[f]),b,d);if(!a.isNone(n))return n}return null},isInBranch:function(c,b,d){c=this.getItem(c,
b,d);return a.isNone(c)?!1:!0},selectBranch:function(c,b,d){if(a.isArray(c)&&a.isFunction(b)&&a.isFunction(d))for(var f=c.length;f--;){var g=b(c[f]);!1===d(c[f])&&a.isNone(this.getItem(g,b,d))?c.splice(f,1):0<g.length&&this.selectBranch(g,b,d)}},selectLevel:function(c,b,d){if(!a.isArray(c)||!a.isFunction(b))return[];var f=[],g=c.length;if(a.isNone(d)||isNaN(d)||0>=d)return c;for(d--;g--;){var n=b(c[g]);0<n.length&&(f=f.concat(this.selectLevel(n,b,d)))}return f}};
a.state.helper.chainer=function(c,b,d,f,g){function n(b,c){var d={};a.isNone(b)||(d.resource=b);a.isNone(c)||(d.status=c);var f=a.state.__getError(e,c);a.message.dispatch("a.state.error",d);a.isNone(f)||(a.isString(f)?window.location.href="#"+f:a.isFunction(f)?f(e.id,b,c):a.console.error("a.state.helper.chainer.__error: error resolver cannot determine action to perform, please check your different error handler (status: "+c+", state id: "+e.id+")"))}function m(b){return function(c){r(b,function(){c.done()})}}
function s(b,c,d){return function(e){a.loader[b](c,function(b){a.isFunction(d)&&d(b);e.done()})}}function p(b,c,d){if(a.isObject(d))for(var e in d)d[e]=a.state.helper.parameter.extrapolate(d[e],b,c),p(b,c,d[e])}function l(b,c,d,e){var f=a.deepClone(d);d=a.page.event.hash.getHash();f.url=a.state.helper.parameter.extrapolate(c,d,e);p(d,e,f);c=c.replace(/^\s+|\s+$/g,"");return 0===c.indexOf("{{")&&c.indexOf("}}")===c.length-2?(c=a.state.helper.parameter.extrapolate(c,d,e,!1),function(d){var e=d.getData("data")||
{};a.isObject(e.a)||(e.a=e.appstorm={},e.a.parameter=e.appstorm.parameter={});a.isNone(b)?e=c:(e.a.parameter[b]=c,e.appstorm.parameter=e.a.parameter,a.isNone(e[b])&&(e[b]=c));d.setData("data",e);d.done()}):function(c){a.isNone(c.getData("data"))&&c.setData("data",{});(new a.ajax(f,function(d){if(a.isNone(b))c.setData("data",d);else{var e=c.getData("data");e[b]=d;c.setData("data",e)}c.done()},n)).send()}}function y(b,c){for(var d=new a.callback.synchronizer,e=b.include.css,f=b.include.js,g=b.include.html,
k=b.include.translate,m=b.data,p=b.title,r=b.options,q=b.converter,w=b.hash,x=e.length,y=f.length;x--;)d.addCallback(s("css",e[x]));for(;y--;)d.addCallback(s("js",f[y]));if(!a.isNone(a.language)&&0<k.length)for(e=k.length;e--;)d.addCallback(s("json",k[e],function(b){for(var c in b)a.language.addTranslation(c,b[c],!0)}));a.isString(g)&&(g=a.state.helper.parameter.extrapolate(g,a.page.event.hash.getHash(),w),d.addCallback(function(b){b.setData("html",g);a.page.template.get(g,{},b.done,n)}));if(a.isString(m)||
a.isObject(m))if(a.isObject(r)||(r={type:"json"}),a.isString(r.type)||(r.type="json"),a.isString(m))d.addCallback(l(null,m,r,w));else for(var G in m)a.isObject(m[G])&&a.isString(m[G].url)?(a.isObject(m[G].options)||(m[G].options={type:"json"}),d.addCallback(l(G,m[G].url,m[G].options,w))):d.addCallback(l(G,m[G],r,w));else d.addCallback(function(b){b.setData("data",{});b.done()});d.setSuccess(function(b){a.isNone(q)||q(b.data);a.isNone(p)||(p=a.state.helper.parameter.extrapolate(p,a.page.event.hash.getHash(),
w),a.isNone(a.language)?document.title=p:document.title=a.language.getSingleTranslation(p));var d=b.data,e=b.html,d=a.isNone(d)?{}:d;a.isNone(e)?a.isFunction(c)&&c(b,null):a.page.template.get(e,d,function(d){a.isFunction(c)&&c(b,d)})});d.setFail(n);d.start()}function w(b,d){e=b;var g=new a.callback.chainer;"unload"===c?g.addCallback(b.preUnload,b.unload,b.postUnload):g.addCallback(function(c){a.isFunction(b.preLoad)&&(-1==f||0<=f&&a.state.__currentGeneratedId()===f)?b.preLoad(c):c.done()},function(c){y(b,
function(d,e){a.isFunction(b.load)&&(-1==f||0<=f&&a.state.__currentGeneratedId()===f)&&b.load(e);var g=c.getFullData()||{};if(a.isObject(d.data))for(var k in d.data)g[k]=d.data[k];c.setFullData(g);c.done()})},function(c){a.isFunction(b.postLoad)&&(-1==f||0<=f&&a.state.__currentGeneratedId()===f)?b.postLoad(c):c.done()},function(c){var d={id:b.id,value:b.id};a.message.dispatch("a.state.load",d);a.message.dispatch("a.state.load-"+b.id,d);c.done()});g.setSuccess(d);g.setFail(n);g.start()}function r(b,
c){for(var e=new a.callback.synchronizer,f=b.length;f--;)a.contains(d,b[f].id)&&function(b){e.addCallback(function(c){w(b,function(){c.done()})})}(b[f]);e.setSuccess(c);e.setFail(n);e.start()}var x=b.length,e=null;c="unload"===c?"unload":"load";d=d||[];var q=new a.callback.chainer;if("unload"===c)for(;x--;)q.addCallback(m(b[x]));else for(var k=0;k<x;)q.addCallback(m(b[k])),k++;q.setSuccess(g);q.setFail(n);q.start()};
a.state.helper.parameter={extract:function(c,b){var d=/\{\{(\s*\w+\s*:\s*[a-z0-9_\-\[\]\(\)\^.\|\+\*\?\\\/]+\s*)\}\}/gmi,f=/^\s+|\s+$/g,g=!a.isNone(b);g&&(d=b);for(var n=[],m;m=d.exec(c);){var s=null,s=g?["hash",m[1]]:m[1].split(":",2);n.push({original:m[0].replace(f,""),name:s[0].replace(f,""),regex:s[1].replace(f,""),start:m.index})}return n},replace:function(c,b,d){d=a.isNone(d)?"("+b.regex+")":d;return c.substr(0,b.start)+d+c.substr(b.start+b.original.length)},extrapolate:function(c,b,d,f){if(a.isString(c)&&
0<=c.indexOf("{{")&&0<=c.indexOf("}}")){for(var g=this.extract(c),n=this.extract(d),m=this.extract(c,/\{\{(\s*\w+\s*)\}\}/gmi),g=g.concat(m),m=n.length;m--;)d=this.replace(d,n[m]);if(m=RegExp("^"+d+"$","gi").exec(b)){b=0;for(d=n.length;b<d;++b)n[b].value=m[b+1];for(var m=0,s=g.length;m<s;++m)for(b=0;b<d;++b)n[b].name===g[m].regex&&"hash"===g[m].name&&(g[m].value=n[b].value)}n=g.length;for(f=!1===f?function(b,c,d){return d}:this.replace;n--;){b=g[n];"hash"!==b.name&&"hashtag"!==b.name||a.isNone(b.value)||
(c=this.replace(c,b,b.value));d=!1;if(!a.isNone(a.storage))switch(b.name){case "temporary":c=f(c,b,a.storage.temporary.getItem(b.regex));d=!0;break;case "memory":c=f(c,b,a.storage.memory.getItem(b.regex));d=!0;break;case "persistent":c=f(c,b,a.storage.persistent.getItem(b.regex));d=!0;break;case "cookie":c=f(c,b,a.storage.cookie.getItem(b.regex));d=!0;break;case "store":case "storage":d=a.storage.temporary.getItem(b.regex),c=a.isNone(d)?f(c,b,a.storage.persistent.getItem(b.regex)):f(c,b,d),d=!0}if(!d&&
(d=a.state.type.list(),a.isObject(d)))for(var p in d)p===b.name&&(m=d[p],c=a.isFunction(m)?f(c,b,m(b.regex)):f(c,b,m))}}return c}};a.page={};
a.page.template={__tmpl:{},get:function(c,b,d,f){var g=null;a.isObject(window.Handlebars)&&(g=window.Handlebars);if(null==g)a.console.error("a.page.template.get: unable to find Handlebars.JS ! Can't proceed",1);else{var n=c.replace(/[^a-zA-Z0-9\\-]/g,"_"),m="a_tmpl_"+n+"_a",s=function(b,c,d){a.isFunction(b)&&(a.isNone(g.to_html)?(c=g.compile(a.page.template.__tmpl[c]),b(c(d))):b(g.to_html(a.page.template.__tmpl[c],d)))};a.isString(this.__tmpl[m])?(a.console.log("a.page.template.get: loading "+m+" from cache",
3),s(d,m,b)):document.getElementById(m)?(this.__tmpl[m]||(a.console.log("a.page.template.get: loading "+m+" from inner html page",3),this.__tmpl[m]=document.getElementById(m).innerHTML),s(d,m,b)):document.getElementById(n)?(this.__tmpl[n]||(a.console.log("a.page.template.get: loading "+n+" from inner html page",3),this.__tmpl[n]=document.getElementById(n).innerHTML),s(d,n,b)):(a.console.log("a.page.template.get: loading "+c+" from external resource",3),a.loader.html(c,function(c,f,g){a.page.template.__tmpl[m]||
(a.page.template.__tmpl[m]=c);s(d,m,b)},{},f))}},htmlToDom:function(c){var b=document.createElement("div");b.innerHTML=c.replace(/^\s+|\s+$/g,"");c=b.childNodes;for(var b=[],d=0,f=c.length;d<f;++d){var g=c.item(d);!a.isObject(g)||"1"!==g.nodeType.toString()&&"3"!==g.nodeType.toString()||b.push(g)}return b},remove:function(c,b){for(;c.firstChild;)c.removeChild(c.firstChild);a.isFunction(b)&&b()},append:function(c,b,d){var f=this.htmlToDom(b);if(a.isObject(f))for(var g=0,n=f.length;g<n;++g)c.appendChild(f[g]);
a.isNone(a.language)||a.language.translate(c);a.isFunction(d)&&d(b)},replace:function(c,b,d){this.remove(c);this.append(c,b,d)}};
a.page.event=function(){function c(b,c){a.isObject(c)||(c={});return function(){a.message.dispatch("a.page.event."+b,c)}}function b(){var b=(new Date).getTime();b>m+2*n&&(a.console.log("a.page.event.hibernate: hibernate mode has been detected",3),c("hibernate")());m=b}function d(b,c){window.addEventListener?window.addEventListener(b,c,!1):window.attachEvent&&window.attachEvent("on"+b,c)}function f(b){var d=window.location.hash?window.location.hash.substring(1):null;if(s!==d){if(!0!==b){for(p.push({hash:d,
time:(new Date).getTime()});1E3<p.length;)p.shift();a.console.log("a.page.event.hash: hash change (previous: "+s+", new: "+d+")",3);c("hash",{value:d,old:s})()}s=d}}var g={},n=1E4,m=(new Date).getTime(),s=null,p=[];g.hash={getHash:function(){return window.location.hash?window.location.hash.substring(1):null},getPreviousHash:function(){return s},setPreviousHash:function(b){a.console.log("a.page.event.hash.setPreviousHash: change previous hash to "+b,3);s=b},trace:function(){return p}};f(!0);!a.isNone(window.onhashchange)&&
(void 0===document.documentMode||7<document.documentMode)?window.onhashchange=f:a.timer.add(f,null,50);var l=["resize","load","unload"],y;for(y in l)d(l[y],c(l[y]));d("load",function(){a.timer.add(b,null,n)});return g}();a.translate=a.i18n=function(){function c(b,c){return b.getAttribute(c)||b.getAttribute("a-"+c)||b.getAttribute("data-"+c)||""}function b(b,d){var e=c(b,r);if(e&&""!=e)try{b[e]=d}catch(f){}else if("INPUT"==b.nodeName)if("submit"==b.type||"reset"==b.type)b.value=d;else try{b.placeholder=d}catch(g){}else if("FIELDSET"===b.nodeName)b.title=d;else if(""!==c(b,x))a.dom.el(b).empty().append(document.createTextNode(d));else{for(var e=d.split("<tag>"),h=0,l=e.length,m=0,n=b.childNodes.length;m<n&&h<l;++m){var p=
b.childNodes[m];3==p.nodeType&&(p.nodeValue=e[h],h++)}if(h!=l)for(;h<l;++h)b.appendChild(document.createTextNode(e[h]));if(m!=n)for(;n-- >m;)p=b.childNodes[n],3==p.nodeType&&b.removeChild(p)}}function d(d){d=d||document;d=a.dom.el(d);var f=l[p];d.attr(w+",a-"+w+",data-"+w).each(function(){var d=c(this,w),g=f[d]||"";""===g&&(g=d);for(var g=g.match(e),g=a.match(g,function(b){return b.replace("{{","").replace("}}","")}),k={},h=g.length;h--;){var l=g[h],m=c(this,w+"-"+l);m&&(k[l]=m)}d=s(d,k,!0);b(this,
d)})}function f(){return p}function g(b,c){p=b;!1!==c&&d()}function n(b,c,e,f){l[b]||(l[b]={});l[b][c]=e;!1!==f&&d()}function m(b,c,e){if(null===c)delete l[b];else for(var f in c)n(b,f,c[f],!1);!1!==e&&d()}function s(b,c,d){function f(b){for(var d=[c,y],e=0;2>e;++e)for(var g in d[e])if(b==="{{"+g+"}}")return d[e][g];return""}b=l[p][b]||null;if(a.isNull(b))return"";if(!1===d)return b;d=b.match(e)||[];for(var g=0,h=d.length;g<h;++g){var m=d[g];b=b.replace(m,f(m))}return b.replace(e,"")}var p="en-US",
l={},y={},w="tr",r="custom-tr",x="erase-tr",e=/\{\{[a-z0-9\-_]+\}\}/gi;if(a.storage&&a.storage.persistent.support){var q=a.storage.persistent.getItem("_app.language");a.isString(q)&&0<q.length&&(p=q,d())}return{getLanguage:f,getCurrent:f,setLanguage:g,setCurrent:g,translate:d,i18n:d,getDictionnary:function(b){return b?l[b]||{}:l},getGlobalVariable:function(b){return y[b]||""},setGlobalVariable:function(b,c){y[b]=c},add:n,addTranslation:n,get:s,getTranslation:s,set:m,setTranslation:m}}();
